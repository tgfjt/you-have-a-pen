(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function applyHook(o,p,n,a,c,f){o.forEach(function(o){o(p,n,a,c,f)})}module.exports=applyHook;

},{}],2:[function(require,module,exports){
function dispatcher(t){function r(t){t.onStateChange&&a.push(t.onStateChange),t.onError&&i.push(wrapOnError(t.onError)),t.onAction&&u.push(t.onAction),t.wrapSubscriptions&&f.push(t.wrapSubscriptions),t.wrapInitialState&&s.push(t.wrapInitialState),t.wrapReducers&&p.push(t.wrapReducers),t.wrapEffects&&c.push(t.wrapEffects)}function e(t){k.push(t)}function n(t){t=t||{};var r=t.state;if(!t.state&&t.freeze===!1)return xtend(b);if(!t.state)return Object.freeze(xtend(b));var e=[],n={};k.forEach(function(t){var o=t.namespace;e.push(o);var a=t.state||{};o?(n[o]=n[o]||{},apply(o,a,n),n[o]=xtend(n[o],r[o])):mutate(n,a)}),Object.keys(r).forEach(function(t){e.indexOf(t)===-1&&(n[t]=r[t])});var o=xtend(b,xtend(r,n)),a=wrapHook(o,s);return t.freeze===!1?a:Object.freeze(a)}function o(t){function r(t,r){return function(n,o,a){function u(t){t=t||null,t&&applyHook(i,t,b,function(t){return function(r,n){n="undefined"==typeof n?null:n,e(r,n,t,f)}})}a||r||(a=o,o=null),o="undefined"==typeof o?null:o;var f=r?u:a;e(n,o,t,f)}}function e(t,e,n,o){setTimeout(function(){var i=!1,f=!1,s=xtend(b);u.length&&applyHook(u,e,b,t,n,r);var p=t;if(/:/.test(t)){var c=t.split(":"),l=c.shift();p=c.join(":")}var d=l?y[l]:y;if(d&&d[p]){if(l){var h=d[p](e,b[l]);s[l]=xtend(b[l],h)}else mutate(s,y[p](e,b));i=!0,a.length&&applyHook(a,e,s,b,p,r),b=s,o(null,s)}var v=l?E[l]:E;if(!i&&v&&v[p]){var w=r("effect: "+t);l?v[p](e,b[l],w,o):v[p](e,b,w,o),f=!0}if(!i&&!f)throw new Error("Could not find action "+p)},0)}return t=t||{},k.forEach(function(e){var n=e.namespace;if(!h&&e.state&&t.state!==!1){var o=e.state||{};n?(b[n]=b[n]||{},apply(n,o,b)):mutate(b,o)}!l&&e.reducers&&t.reducers!==!1&&apply(n,e.reducers,y,function(t){return wrapHook(t,p)}),!d&&e.effects&&t.effects!==!1&&apply(n,e.effects,E,function(t){return wrapHook(t,c)}),!v&&e.subscriptions&&t.subscriptions!==!1&&apply(n,e.subscriptions,w,function(t,e){var o=r("subscription: "+(n?n+":"+e:e));return t=wrapHook(t,f),t(o,function(t){applyHook(i,t,b,r)}),t})}),h||t.state===!1||(b=wrapHook(b,s)),t.noSubscriptions||(v=!0),t.noReducers||(l=!0),t.noEffects||(d=!0),t.noState||(h=!0),i.length||i.push(wrapOnError(defaultOnError)),r}t=t||{};var a=[],u=[],i=[],f=[],s=[],p=[],c=[];r(t);var l=!1,d=!1,h=!1,v=!1,w=o._subscriptions={},y=o._reducers={},E=o._effects={},k=o._models=[],b={};return o.model=e,o.state=n,o.start=o,o.use=r,o}function apply(t,r,e,n){t&&!e[t]&&(e[t]={}),Object.keys(r).forEach(function(o){var a=n?n(r[o],o):r[o];t?e[t][o]=a:e[o]=a})}function defaultOnError(t){throw t}function wrapOnError(t){return function(r,e,n){r&&t(r,e,n)}}function wrapHook(t,r){return r.forEach(function(r){t=r(t)}),t}var mutate=require("xtend/mutable"),xtend=require("xtend"),applyHook=require("./apply-hook");module.exports=dispatcher;

},{"./apply-hook":1,"xtend":23,"xtend/mutable":24}],3:[function(require,module,exports){

},{}],4:[function(require,module,exports){
module.exports=require("yo-yo");

},{"yo-yo":25}],5:[function(require,module,exports){
function choo(e){function t(e,t){function r(){return function(){}}t=t||{},c.start({subscriptions:!1,reducers:!1,effects:!1});var n=c.state({state:t}),o=i(h,l,r),a=o(e,n);return a.outerHTML||a.toString()}function r(e,t){t||"string"==typeof e||(t=e,e=null),t=t||{},c.model(appInit(t));var n=c.start(t);s=r._router=i(h,l,n);var o=c.state({state:{}});if(!e){var a=s(o.location.pathname,o);return f=a,a}onReady(function(){var t=document.querySelector(e),r=s(o.location.pathname,o);f=yo.update(t,r)})}function n(e,t,r,n,o){d||(d=nanoraf(function(e,t){var r=s(e.location.pathname,e,t);f=yo.update(f,r)})),d(t,r)}function o(e,t){h=e,l=t}function a(e){c.model(e)}function u(e){c.use(e)}function i(t,r,n){function o(t){function r(t,r){var o=n("view: "+r,!0);return function(r,n){var u=a,i=a=xtend(n,{params:r});return e.freeze!==!1&&Object.freeze(i),t(i,u,o)}}return function(e,n,o){return"function"==typeof n&&(n=r(n,e)),t(e,n,o)}}var a={params:{}};return sheetRouter(t,r,o)}e=e||{};var c=r._store=barracks(),s=r._router=null,h=null,f=null,l=null,d=null;return c.use({onStateChange:n}),c.use(e),r.toString=t,r.router=o,r.model=a,r.start=r,r.use=u,r}function appInit(e){function t(e,t,r){r[t]=function(t,r){e(function(e){t("location:setLocation",{location:e},r)})}}var r=document.location,n={pathname:e.hash?hashMatch(r.hash):r.href},o={setLocation:function(e,t){return{pathname:e.location.replace(/#.*/,"")}}},a={};return e.hash===!0?t(function(e){hash(function(t){e(hashMatch(t))})},"handleHash",a):(e.history!==!1&&t(history,"handleHistory",a),e.href!==!1&&t(href,"handleHref",a)),{namespace:"location",subscriptions:a,reducers:o,state:n}}var history=require("sheet-router/history"),sheetRouter=require("sheet-router"),document=require("global/document"),onReady=require("document-ready"),href=require("sheet-router/href"),hash=require("sheet-router/hash"),hashMatch=require("hash-match"),barracks=require("barracks"),nanoraf=require("nanoraf"),xtend=require("xtend"),yo=require("yo-yo");module.exports=choo;

},{"barracks":2,"document-ready":6,"global/document":7,"hash-match":9,"nanoraf":15,"sheet-router":20,"sheet-router/hash":17,"sheet-router/history":18,"sheet-router/href":19,"xtend":23,"yo-yo":25}],6:[function(require,module,exports){
"use strict";function ready(e){var t=document.readyState;return"complete"===t||"interactive"===t?setTimeout(e,0):void document.addEventListener("DOMContentLoaded",function(){e()})}function noop(){}var document=require("global/document");module.exports=document.addEventListener?ready:noop;
},{"global/document":7}],7:[function(require,module,exports){
(function (global){
var topLevel="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},minDoc=require("min-document");if("undefined"!=typeof document)module.exports=document;else{var doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc),module.exports=doccy}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"min-document":3}],8:[function(require,module,exports){
(function (global){
"undefined"!=typeof window?module.exports=window:"undefined"!=typeof global?module.exports=global:"undefined"!=typeof self?module.exports=self:module.exports={};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],9:[function(require,module,exports){
module.exports=function(e,r){var l=r||"/";return 0===e.length?l:(e=e.replace("#",""),e=e.replace(/\/$/,""),0!=e.indexOf("/")&&(e="/"+e),"/"==l?e:e.replace(l,""))};

},{}],10:[function(require,module,exports){
function createStyleElement(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}var containers=[],styleElements=[];module.exports=function(e,t){t=t||{};var n=t.prepend===!0?"prepend":"append",s=void 0!==t.container?t.container:document.querySelector("head"),r=containers.indexOf(s);r===-1&&(r=containers.push(s)-1,styleElements[r]={});var l;return void 0!==styleElements[r]&&void 0!==styleElements[r][n]?l=styleElements[r][n]:(l=styleElements[r][n]=createStyleElement(),"prepend"===n?s.insertBefore(l,s.childNodes[0]):s.appendChild(l)),l.styleSheet?l.styleSheet.cssText+=e:l.textContent+=e,l};
},{}],11:[function(require,module,exports){
!function(e){function n(e,n){for(var t=e.length;t--;)if(e[t]===n)return t;return-1}function t(e,n){if(e.length!=n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function o(e){for(m in b)b[m]=e[T[m]]}function r(e){var t,r,i,l,c,u;if(t=e.keyCode,n(S,t)==-1&&S.push(t),93!=t&&224!=t||(t=91),t in b){b[t]=!0;for(i in C)C[i]==t&&(f[i]=!0)}else if(o(e),f.filter.call(this,e)&&t in E)for(u=p(),l=0;l<E[t].length;l++)if(r=E[t][l],r.scope==u||"all"==r.scope){c=r.mods.length>0;for(i in b)(!b[i]&&n(r.mods,+i)>-1||b[i]&&n(r.mods,+i)==-1)&&(c=!1);(0!=r.mods.length||b[16]||b[18]||b[17]||b[91])&&!c||r.method(e,r)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function i(e){var t,o=e.keyCode,r=n(S,o);if(r>=0&&S.splice(r,1),93!=o&&224!=o||(o=91),o in b){b[o]=!1;for(t in C)C[t]==o&&(f[t]=!1)}}function l(){for(m in b)b[m]=!1;for(m in C)f[m]=!1}function f(e,n,t){var o,r;o=g(e),void 0===t&&(t=n,n="all");for(var i=0;i<o.length;i++)r=[],e=o[i].split("+"),e.length>1&&(r=v(e),e=[e[e.length-1]]),e=e[0],e=P(e),e in E||(E[e]=[]),E[e].push({shortcut:o[i],scope:n,method:t,key:o[i],mods:r})}function c(e,n){var o,r,i,l,f,c=[];for(o=g(e),l=0;l<o.length;l++){if(r=o[l].split("+"),r.length>1&&(c=v(r),e=r[r.length-1]),e=P(e),void 0===n&&(n=p()),!E[e])return;for(i=0;i<E[e].length;i++)f=E[e][i],f.scope===n&&t(f.mods,c)&&(E[e][i]={})}}function u(e){return"string"==typeof e&&(e=P(e)),n(S,e)!=-1}function a(){return S.slice(0)}function s(e){var n=(e.target||e.srcElement).tagName;return!("INPUT"==n||"SELECT"==n||"TEXTAREA"==n)}function d(e){w=e||"all"}function p(){return w||"all"}function h(e){var n,t,o;for(n in E)for(t=E[n],o=0;o<t.length;)t[o].scope===e?t.splice(o,1):o++}function g(e){var n;return e=e.replace(/\s/g,""),n=e.split(","),""==n[n.length-1]&&(n[n.length-2]+=","),n}function v(e){for(var n=e.slice(0,e.length-1),t=0;t<n.length;t++)n[t]=C[n[t]];return n}function y(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent&&e.attachEvent("on"+n,function(){t(window.event)})}function k(){var n=e.key;return e.key=A,n}var m,E={},b={16:!1,18:!1,17:!1,91:!1},w="all",C={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},K={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},P=function(e){return K[e]||e.toUpperCase().charCodeAt(0)},S=[];for(m=1;m<20;m++)K["f"+m]=111+m;var T={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(m in C)f[m]=!1;y(document,"keydown",function(e){r(e)}),y(document,"keyup",i),y(window,"focus",l);var A=e.key;e.key=f,e.key.setScope=d,e.key.getScope=p,e.key.deleteScope=h,e.key.filter=s,e.key.isPressed=u,e.key.getPressedKeyCodes=a,e.key.noConflict=k,e.key.unbind=c,"undefined"!=typeof module&&(module.exports=f)}(this);
},{}],12:[function(require,module,exports){
(function (global){
function addMapEntry(e,t){return e.set(t[0],t[1]),e}function addSetEntry(e,t){return e.add(t),e}function arrayEach(e,t){for(var a=-1,r=e?e.length:0;++a<r&&t(e[a],a,e)!==!1;);return e}function arrayPush(e,t){for(var a=-1,r=t.length,n=e.length;++a<r;)e[n+a]=t[a];return e}function arrayReduce(e,t,a,r){var n=-1,o=e?e.length:0;for(r&&o&&(a=e[++n]);++n<o;)a=t(a,e[n],n,e);return a}function baseTimes(e,t){for(var a=-1,r=Array(e);++a<e;)r[a]=t(a);return r}function getValue(e,t){return null==e?void 0:e[t]}function isHostObject(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function mapToArray(e){var t=-1,a=Array(e.size);return e.forEach(function(e,r){a[++t]=[r,e]}),a}function overArg(e,t){return function(a){return e(t(a))}}function setToArray(e){var t=-1,a=Array(e.size);return e.forEach(function(e){a[++t]=e}),a}function Hash(e){var t=-1,a=e?e.length:0;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(e){return this.has(e)&&delete this.__data__[e]}function hashGet(e){var t=this.__data__;if(nativeCreate){var a=t[e];return a===HASH_UNDEFINED?void 0:a}return hasOwnProperty.call(t,e)?t[e]:void 0}function hashHas(e){var t=this.__data__;return nativeCreate?void 0!==t[e]:hasOwnProperty.call(t,e)}function hashSet(e,t){var a=this.__data__;return a[e]=nativeCreate&&void 0===t?HASH_UNDEFINED:t,this}function ListCache(e){var t=-1,a=e?e.length:0;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(e){var t=this.__data__,a=assocIndexOf(t,e);if(a<0)return!1;var r=t.length-1;return a==r?t.pop():splice.call(t,a,1),!0}function listCacheGet(e){var t=this.__data__,a=assocIndexOf(t,e);return a<0?void 0:t[a][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,t){var a=this.__data__,r=assocIndexOf(a,e);return r<0?a.push([e,t]):a[r][1]=t,this}function MapCache(e){var t=-1,a=e?e.length:0;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(e){return getMapData(this,e).delete(e)}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,t){return getMapData(this,e).set(e,t),this}function Stack(e){this.__data__=new ListCache(e)}function stackClear(){this.__data__=new ListCache}function stackDelete(e){return this.__data__.delete(e)}function stackGet(e){return this.__data__.get(e)}function stackHas(e){return this.__data__.has(e)}function stackSet(e,t){var a=this.__data__;if(a instanceof ListCache){var r=a.__data__;if(!Map||r.length<LARGE_ARRAY_SIZE-1)return r.push([e,t]),this;a=this.__data__=new MapCache(r)}return a.set(e,t),this}function arrayLikeKeys(e,t){var a=isArray(e)||isArguments(e)?baseTimes(e.length,String):[],r=a.length,n=!!r;for(var o in e)!t&&!hasOwnProperty.call(e,o)||n&&("length"==o||isIndex(o,r))||a.push(o);return a}function assignValue(e,t,a){var r=e[t];hasOwnProperty.call(e,t)&&eq(r,a)&&(void 0!==a||t in e)||(e[t]=a)}function assocIndexOf(e,t){for(var a=e.length;a--;)if(eq(e[a][0],t))return a;return-1}function baseAssign(e,t){return e&&copyObject(t,keys(t),e)}function baseClone(e,t,a,r,n,o,c){var s;if(r&&(s=o?r(e,n,o,c):r(e)),void 0!==s)return s;if(!isObject(e))return e;var i=isArray(e);if(i){if(s=initCloneArray(e),!t)return copyArray(e,s)}else{var u=getTag(e),l=u==funcTag||u==genTag;if(isBuffer(e))return cloneBuffer(e,t);if(u==objectTag||u==argsTag||l&&!o){if(isHostObject(e))return o?e:{};if(s=initCloneObject(l?{}:e),!t)return copySymbols(e,baseAssign(s,e))}else{if(!cloneableTags[u])return o?e:{};s=initCloneByTag(e,u,baseClone,t)}}c||(c=new Stack);var g=c.get(e);if(g)return g;if(c.set(e,s),!i)var f=a?getAllKeys(e):keys(e);return arrayEach(f||e,function(n,o){f&&(o=n,n=e[o]),assignValue(s,o,baseClone(n,t,a,r,o,e,c))}),s}function baseCreate(e){return isObject(e)?objectCreate(e):{}}function baseGetAllKeys(e,t,a){var r=t(e);return isArray(e)?r:arrayPush(r,a(e))}function baseGetTag(e){return objectToString.call(e)}function baseIsNative(e){if(!isObject(e)||isMasked(e))return!1;var t=isFunction(e)||isHostObject(e)?reIsNative:reIsHostCtor;return t.test(toSource(e))}function baseKeys(e){if(!isPrototype(e))return nativeKeys(e);var t=[];for(var a in Object(e))hasOwnProperty.call(e,a)&&"constructor"!=a&&t.push(a);return t}function cloneBuffer(e,t){if(t)return e.slice();var a=new e.constructor(e.length);return e.copy(a),a}function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}function cloneDataView(e,t){var a=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}function cloneMap(e,t,a){var r=t?a(mapToArray(e),!0):mapToArray(e);return arrayReduce(r,addMapEntry,new e.constructor)}function cloneRegExp(e){var t=new e.constructor(e.source,reFlags.exec(e));return t.lastIndex=e.lastIndex,t}function cloneSet(e,t,a){var r=t?a(setToArray(e),!0):setToArray(e);return arrayReduce(r,addSetEntry,new e.constructor)}function cloneSymbol(e){return symbolValueOf?Object(symbolValueOf.call(e)):{}}function cloneTypedArray(e,t){var a=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function copyArray(e,t){var a=-1,r=e.length;for(t||(t=Array(r));++a<r;)t[a]=e[a];return t}function copyObject(e,t,a,r){a||(a={});for(var n=-1,o=t.length;++n<o;){var c=t[n],s=r?r(a[c],e[c],c,a,e):void 0;assignValue(a,c,void 0===s?e[c]:s)}return a}function copySymbols(e,t){return copyObject(e,getSymbols(e),t)}function getAllKeys(e){return baseGetAllKeys(e,keys,getSymbols)}function getMapData(e,t){var a=e.__data__;return isKeyable(t)?a["string"==typeof t?"string":"hash"]:a.map}function getNative(e,t){var a=getValue(e,t);return baseIsNative(a)?a:void 0}function initCloneArray(e){var t=e.length,a=e.constructor(t);return t&&"string"==typeof e[0]&&hasOwnProperty.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function initCloneObject(e){return"function"!=typeof e.constructor||isPrototype(e)?{}:baseCreate(getPrototype(e))}function initCloneByTag(e,t,a,r){var n=e.constructor;switch(t){case arrayBufferTag:return cloneArrayBuffer(e);case boolTag:case dateTag:return new n(+e);case dataViewTag:return cloneDataView(e,r);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(e,r);case mapTag:return cloneMap(e,r,a);case numberTag:case stringTag:return new n(e);case regexpTag:return cloneRegExp(e);case setTag:return cloneSet(e,r,a);case symbolTag:return cloneSymbol(e)}}function isIndex(e,t){return t=null==t?MAX_SAFE_INTEGER:t,!!t&&("number"==typeof e||reIsUint.test(e))&&e>-1&&e%1==0&&e<t}function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}function isPrototype(e){var t=e&&e.constructor,a="function"==typeof t&&t.prototype||objectProto;return e===a}function toSource(e){if(null!=e){try{return funcToString.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function cloneDeep(e){return baseClone(e,!0,!0)}function eq(e,t){return e===t||e!==e&&t!==t}function isArguments(e){return isArrayLikeObject(e)&&hasOwnProperty.call(e,"callee")&&(!propertyIsEnumerable.call(e,"callee")||objectToString.call(e)==argsTag)}function isArrayLike(e){return null!=e&&isLength(e.length)&&!isFunction(e)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function isFunction(e){var t=isObject(e)?objectToString.call(e):"";return t==funcTag||t==genTag}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isObjectLike(e){return!!e&&"object"==typeof e}function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}function stubArray(){return[]}function stubFalse(){return!1}var LARGE_ARRAY_SIZE=200,HASH_UNDEFINED="__lodash_hash_undefined__",MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",promiseTag="[object Promise]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reFlags=/\w*$/,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?root.Buffer:void 0,Symbol=root.Symbol,Uint8Array=root.Uint8Array,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeKeys=overArg(Object.keys,Object),DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var getSymbols=nativeGetSymbols?overArg(nativeGetSymbols,Object):stubArray,getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(e){var t=objectToString.call(e),a=t==objectTag?e.constructor:void 0,r=a?toSource(a):void 0;if(r)switch(r){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return t});var isArray=Array.isArray,isBuffer=nativeIsBuffer||stubFalse;module.exports=cloneDeep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],13:[function(require,module,exports){
(function (global){
function arrayPush(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function baseFlatten(e,t,r,n,o){var a=-1,l=e.length;for(r||(r=isFlattenable),o||(o=[]);++a<l;){var b=e[a];t>0&&r(b)?t>1?baseFlatten(b,t-1,r,n,o):arrayPush(o,b):n||(o[o.length]=b)}return o}function isFlattenable(e){return isArray(e)||isArguments(e)||!!(spreadableSymbol&&e&&e[spreadableSymbol])}function flatten(e){var t=e?e.length:0;return t?baseFlatten(e,1):[]}function isArguments(e){return isArrayLikeObject(e)&&hasOwnProperty.call(e,"callee")&&(!propertyIsEnumerable.call(e,"callee")||objectToString.call(e)==argsTag)}function isArrayLike(e){return null!=e&&isLength(e.length)&&!isFunction(e)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function isFunction(e){var t=isObject(e)?objectToString.call(e):"";return t==funcTag||t==genTag}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isObjectLike(e){return!!e&&"object"==typeof e}var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,Symbol=root.Symbol,propertyIsEnumerable=objectProto.propertyIsEnumerable,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0,isArray=Array.isArray;module.exports=flatten;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],14:[function(require,module,exports){
"use strict";function toElement(e){!range&&doc.createRange&&(range=doc.createRange(),range.selectNode(doc.body));var t;return range&&range.createContextualFragment?t=range.createContextualFragment(e):(t=doc.createElement("body"),t.innerHTML=e),t.childNodes[0]}function syncBooleanAttrProp(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n,""))}function noop(){}function compareNodeNames(e,t){var n=e.nodeName,o=t.nodeName;return n===o||!!(t.actualize&&n.charCodeAt(0)<91&&o.charCodeAt(0)>90)&&n===o.toUpperCase()}function createElementNS(e,t){return t&&t!==NS_XHTML?doc.createElementNS(t,e):doc.createElement(e)}function morphAttrs(e,t){var n,o,r,a,i,d,l=t.attributes;if(t.assignAttributes)t.assignAttributes(e);else for(n=l.length-1;n>=0;--n)o=l[n],r=o.name,a=o.namespaceURI,i=o.value,a?(r=o.localName||r,d=e.getAttributeNS(a,r),d!==i&&e.setAttributeNS(a,r,i)):(d=e.getAttribute(r),d!==i&&e.setAttribute(r,i));for(l=e.attributes,n=l.length-1;n>=0;--n)o=l[n],o.specified!==!1&&(r=o.name,a=o.namespaceURI,a?(r=o.localName||r,hasAttributeNS(t,a,r)||e.removeAttributeNS(a,r)):hasAttributeNS(t,null,r)||e.removeAttribute(r))}function moveChildren(e,t){for(var n=e.firstChild;n;){var o=n.nextSibling;t.appendChild(n),n=o}return t}function defaultGetNodeKey(e){return e.id}function morphdom(e,t,n){function o(e){c?c.push(e):c=[e]}function r(e,t){if(e.nodeType===ELEMENT_NODE)for(var n=e.firstChild;n;){var a=void 0;t&&(a=N(n))?o(a):(v(n),n.firstChild&&r(n,t)),n=n.nextSibling}}function a(e,t,n){p(e)!==!1&&(t&&t.removeChild(e),v(e),r(e,n))}function i(e){if(e.nodeType===ELEMENT_NODE)for(var t=e.firstChild;t;){var n=N(t);n&&(A[n]=t),i(t),t=t.nextSibling}}function d(e){f(e);for(var t=e.firstChild;t;){var n=t.nextSibling,o=N(t);if(o){var r=A[o];r&&compareNodeNames(t,r)&&(t.parentNode.replaceChild(r,t),l(r,t))}d(t),t=n}}function l(n,r,i){var u,c=N(r);if(c&&delete A[c],!t.isSameNode||!t.isSameNode(e)){if(!i){if(m(n,r)===!1)return;if(morphAttrs(n,r),E(n),h(n,r)===!1)return}if("TEXTAREA"!==n.nodeName){var f,p,v,b,T=r.firstChild,g=n.firstChild;e:for(;T;){for(v=T.nextSibling,f=N(T);g;){if(p=g.nextSibling,T.isSameNode&&T.isSameNode(g)){T=v,g=p;continue e}u=N(g);var S=g.nodeType,C=void 0;if(S===T.nodeType&&(S===ELEMENT_NODE?(f?f!==u&&((b=A[f])?g.nextSibling===b?C=!1:(n.insertBefore(b,g),u?o(u):a(g,n,!0),p=g.nextSibling,g=b):C=!1):u&&(C=!1),C=C!==!1&&compareNodeNames(g,T),C&&l(g,T)):S!==TEXT_NODE&&S!=COMMENT_NODE||(C=!0,g.nodeValue=T.nodeValue)),C){T=v,g=p;continue e}u?o(u):a(g,n,!0),g=p}if(f&&(b=A[f])&&compareNodeNames(b,T))n.appendChild(b),l(b,T);else{var y=s(T);y!==!1&&(y&&(T=y),T.actualize&&(T=T.actualize(n.ownerDocument||doc)),n.appendChild(T),d(T))}T=v,g=p}for(;g;)p=g.nextSibling,(u=N(g))?o(u):a(g,n,!0),g=p}var O=specialElHandlers[n.nodeName];O&&O(n,r)}}if(n||(n={}),"string"==typeof t)if("#document"===e.nodeName||"HTML"===e.nodeName){var u=t;t=doc.createElement("html"),t.innerHTML=u}else t=toElement(t);var c,N=n.getNodeKey||defaultGetNodeKey,s=n.onBeforeNodeAdded||noop,f=n.onNodeAdded||noop,m=n.onBeforeElUpdated||noop,E=n.onElUpdated||noop,p=n.onBeforeNodeDiscarded||noop,v=n.onNodeDiscarded||noop,h=n.onBeforeElChildrenUpdated||noop,b=n.childrenOnly===!0,A={};i(e);var T=e,g=T.nodeType,S=t.nodeType;if(!b)if(g===ELEMENT_NODE)S===ELEMENT_NODE?compareNodeNames(e,t)||(v(e),T=moveChildren(e,createElementNS(t.nodeName,t.namespaceURI))):T=t;else if(g===TEXT_NODE||g===COMMENT_NODE){if(S===g)return T.nodeValue=t.nodeValue,T;T=t}if(T===t)v(e);else if(l(T,t,b),c)for(var C=0,y=c.length;C<y;C++){var O=A[c[C]];O&&a(O,O.parentNode,!1)}return!b&&T!==e&&e.parentNode&&(T.actualize&&(T=T.actualize(e.ownerDocument||doc)),e.parentNode.replaceChild(T,e)),T}var range,doc="undefined"!=typeof document&&document,testEl=doc?doc.body||doc.createElement("div"):{},NS_XHTML="http://www.w3.org/1999/xhtml",ELEMENT_NODE=1,TEXT_NODE=3,COMMENT_NODE=8,hasAttributeNS;hasAttributeNS=testEl.hasAttributeNS?function(e,t,n){return e.hasAttributeNS(t,n)}:testEl.hasAttribute?function(e,t,n){return e.hasAttribute(n)}:function(e,t,n){return!!e.getAttributeNode(n)};var specialElHandlers={OPTION:function(e,t){syncBooleanAttrProp(e,t,"selected")},INPUT:function(e,t){syncBooleanAttrProp(e,t,"checked"),syncBooleanAttrProp(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),hasAttributeNS(t,null,"value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n),e.firstChild&&(e.firstChild.nodeValue=n)}};module.exports=morphdom;

},{}],15:[function(require,module,exports){
function nanoraf(n,o){o||(o=window.requestAnimationFrame);var r=!1,u=!1,a=null;return function(i,l){null!==a||u||(u=!0,o(function(){u=!1,a&&(r=!0,n(a,l),r=!1,a=null)})),a=i}}var window=require("global/window");module.exports=nanoraf;

},{"global/window":8}],16:[function(require,module,exports){
function match(e){return e.trim().replace(/[\?|#].*$/,"").replace(/^(?:https?\:)\/\//,"").replace(/^.*?(\/.*)/,"$1").replace(/\/$/,"")}module.exports=match;
},{}],17:[function(require,module,exports){
function hash(o){window.onhashchange=function(n){o(window.location.hash)}}var window=require("global/window");module.exports=hash;

},{"global/window":8}],18:[function(require,module,exports){
function history(o){window.onpopstate=function(){o(document.location.href)}}var document=require("global/document"),window=require("global/window");module.exports=history;

},{"global/document":7,"global/window":8}],19:[function(require,module,exports){
function href(e){window.onclick=function(o){var n=function e(o){if(o)return"a"!==o.localName?e(o.parentNode):void 0===o.href?e(o.parentNode):window.location.host!==o.host?e(o.parentNode):o}(o.target);if(n){o.preventDefault();var r=n.href.replace(/#$/,"");e(r),window.history.pushState({},null,r)}}}var window=require("global/window");module.exports=href;

},{"global/window":8}],20:[function(require,module,exports){
function sheetRouter(e,r,a){a=a?a(_createRoute):_createRoute,r||(r=e,e="");var n=wayfarer(e),t=r(a);return function e(r,a){if(Array.isArray(r[0]))r.forEach(function(r){e(r,a)});else if(r[1]){var t=r[0]?a.concat(r[0]).join("/"):a.length?a.join("/"):r[0];n.on(t,r[1]),e(r[2],a.concat(r[0]))}else if(Array.isArray(r[2]))e(r[2],a.concat(r[0]));else{var o=r[0]?a.concat(r[0]).join("/"):a.length?a.join("/"):r[0];n.on(o,r[2])}}(t,[]),function(e){var r=[].slice.call(arguments);return r[0]=pathname(r[0]),n.apply(null,r)}}function _createRoute(e,r,a){return a||(a=r,r=null),e=e.replace(/^\//,""),[e,r,a]}var pathname=require("pathname-match"),wayfarer=require("wayfarer");module.exports=sheetRouter;

},{"pathname-match":16,"wayfarer":21}],21:[function(require,module,exports){
function Wayfarer(r){function e(r,e){if(r=r||"/",e&&e._wayfarer&&e._trie)n.mount(r,e._trie.trie);else{var t=n.create(r);t.cb=e}return a}function a(r){for(var e=new Array(arguments.length),a=1;a<e.length;a++)e[a]=arguments[a];var i=n.match(r);if(i&&i.cb)return e[0]=i.params,i.cb.apply(null,e);var f=n.match(t);if(f&&f.cb)return e[0]=f.params,f.cb.apply(null,e);throw new Error("route '"+r+"' did not match")}if(!(this instanceof Wayfarer))return new Wayfarer(r);var t=(r||"").replace(/^\//,""),n=trie();return a._trie=n,a.emit=a,a.on=e,a._wayfarer=!0,a}var trie=require("./trie");module.exports=Wayfarer;

},{"./trie":22}],22:[function(require,module,exports){
function Trie(){return this instanceof Trie?void(this.trie={nodes:{}}):new Trie}var mutate=require("xtend/mutable"),xtend=require("xtend");module.exports=Trie,Trie.prototype.create=function(e){var n=e.replace(/^\//,"").split("/");return function e(n,t,r){var o=r[n];if(void 0===o)return t;var i=null;return/^:/.test(o)?(t.nodes.$$?i=t.nodes.$$:(i={nodes:{}},t.nodes.$$=i),t.name=o.replace(/^:/,"")):t.nodes[o]?i=t.nodes[o]:(i={nodes:{}},t.nodes[o]=i),e(n+1,i,r)}(0,this.trie,n)},Trie.prototype.match=function(e){var n=e.replace(/^\//,"").split("/"),t={},r=function e(r,o){if(void 0!==o){var i=n[r];return void 0===i?o:o.nodes[i]?e(r+1,o.nodes[i]):o.name?(t[o.name]=i,e(r+1,o.nodes.$$)):e(r+1)}}(0,this.trie);if(r)return r=xtend(r),r.params=t,r},Trie.prototype.mount=function(e,n){var t=e.replace(/^\//,"").split("/"),r=null,o=null;if(1===t.length)o=t[0],r=this.create(o);else{var i=t.splice(0,t.length-1),s=i.join("/");o=t[0],r=this.create(s)}mutate(r.nodes,n.nodes),n.name&&(r.name=n.name),r.nodes[""]&&(Object.keys(r.nodes[""]).forEach(function(e){"nodes"!==e&&(r[e]=r.nodes[""][e])}),mutate(r.nodes,r.nodes[""].nodes),delete r.nodes[""].nodes)};
},{"xtend":23,"xtend/mutable":24}],23:[function(require,module,exports){
function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;
},{}],24:[function(require,module,exports){
function extend(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;

},{}],25:[function(require,module,exports){
var bel={},morphdom=require("morphdom"),defaultEvents=require("./update-events.js");module.exports=bel,module.exports.update=function(e,t,o){function r(e,t){for(var r=o.events||defaultEvents,d=0;d<r.length;d++){var n=r[d];t[n]?e[n]=t[n]:e[n]&&(e[n]=void 0)}("INPUT"===e.nodeName&&"file"!==e.type||"TEXTAREA"===e.nodeName||"SELECT"===e.nodeName)&&null===t.getAttribute("value")&&(t.value=e.value)}return o||(o={}),o.events!==!1&&(o.onBeforeElUpdated||(o.onBeforeElUpdated=r)),morphdom(e,t,o)};

},{"./update-events.js":26,"morphdom":14}],26:[function(require,module,exports){
module.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"];
},{}],27:[function(require,module,exports){
module.exports=function e(t,n){for(var o=0;o<n.length;o++){var a=n[o];if(Array.isArray(a))e(t,a);else{if(("number"==typeof a||"boolean"==typeof a||a instanceof Date||a instanceof RegExp)&&(a=a.toString()),"string"==typeof a){if(t.lastChild&&"#text"===t.lastChild.nodeName){t.lastChild.nodeValue+=a;continue}a=document.createTextNode(a)}a&&a.nodeType&&t.appendChild(a)}}};

},{}],28:[function(require,module,exports){
var choo=require("choo"),css=0,gameView=require("./views/gameView");(require("insert-css")("html {\n  font-family: san-serif;\n  color: #303020;\n  line-height: 1.414;\n  -ms-text-size-adjust: 100%;\n  -webkit-text-size-adjust: 100%;\n}\n\nbody {\n  margin: 0;\n}\n\nmain {\n  display: block;\n}\n\nbutton {\n  color: white;\n  font-size: 1.75em;\n  font-family: sans-serif;\n  display: inline-block;\n  background: lightseagreen;\n  padding: .5em 1em;\n  border-radius: .25rem;\n  border: none;\n  text-transform: none;\n  overflow: visible;\n  margin: 0;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  backface-visibility: hidden;\n  will-change: transform;\n  transition: transform .25s ease-out;\n}\n\n.start button:focus,\n.start button:hover {\n  transform: scale(1.05);\n}\n\n.start button:active {\n  transform: scale(.9);\n}\n\n.container,\n.center {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.container {\n  width: 100%;\n}\n\n.relative {\n  position: relative;\n}\n\n.absolute {\n  position: absolute;\n}\n\n.board {\n  background: #345;\n  position: relative;\n}\n\n.board-score {\n  position: absolute;\n  margin: 0;\n  padding: .5em;\n  color: #eee;\n  text-shadow: 1px 1px rgba(0, 0, 0, .2);\n  will-change: transform;\n  font-family: helvetica neue, helvetica, sans-serif;\n  font-size: 2em;\n  line-height: 1;\n}\n\n.board-score.is-active {\n  -webkit-animation: countup .5s ease;\n          animation: countup .5s ease;\n}\n\n@-webkit-keyframes countup {\n  0% { -webkit-transform: scale(1); transform: scale(1); }\n  50%  { -webkit-transform: scale(2); transform: scale(2); }\n  100% { -webkit-transform: scale(1); transform: scale(1); }\n}\n\n@keyframes countup {\n  0% { -webkit-transform: scale(1); transform: scale(1); }\n  50%  { -webkit-transform: scale(2); transform: scale(2); }\n  100% { -webkit-transform: scale(1); transform: scale(1); }\n}\n\n.block {\n  line-height: 1;\n  display: table-cell;\n  vertical-align: middle;\n  box-sizing: border-box;\n  text-align: center;\n  text-decoration: none;\n  border-radius: 2px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-transition: opacity .25s, visibility .25s;\n  transition: opacity .25s, visibility .25s;\n}\n\n.block-cover.is-selected:focus {\n  font-weight: bold\n}\n\n.block-cover.is-removed .block {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.block-cover.is-selected .block {\n  opacity: .7;\n}\n\n.block:hover { cursor: pointer; }\n.block:empty { height: 1em; }\n\n.bg-green {\n  background-color: #7ecbcf;\n}\n\n.bg-gray {\n  background-color: #ddd;\n}\n\n.height3 {\n  height: 3em;\n}\n\n.start {\n  position: absolute;\n  color: white;\n  opacity: .9;\n  text-align: center;\n  width: 100%;\n  top: 50%;\n  transform: translateY(-50%)\n}\n\n@media screen and (min-width: 30rem) and (max-width:60rem) {\n  .container {\n    width: 70%;\n  }\n}\n\n@media screen and (min-width: 60rem) {\n  .container {\n    width: 50%;\n  }\n}\n\n.controller {\n  padding: .5em;\n  font-size: small;\n  position: relative;\n}")||!0)&&"_f65c7692";var app=choo();app.model(require("./models/game")),app.model(require("./models/result")),app.router(function(n){return[n("/",gameView)]});var tree=app.start();document.body.appendChild(tree);
},{"./models/game":41,"./models/result":42,"./views/gameView":44,"choo":5,"insert-css":10}],29:[function(require,module,exports){
var html=require("choo/html"),block=function(e,t,r){if(!e.color||!e.charactor)return"";var o="width:"+t+"px;height:"+t+"px";return function(){var e=require("/Users/takashi.fujita/workspace/you-have-a-pen/node_modules/yo-yoify/lib/appendChild.js"),t=document.createElement("span");return t.setAttribute("style",arguments[0]),t.setAttribute("class","block bg-"+arguments[1]),e(t,[arguments[2]]),t}(o,e.color,e.charactor)};module.exports=block;

},{"/Users/takashi.fujita/workspace/you-have-a-pen/node_modules/yo-yoify/lib/appendChild.js":27,"choo/html":4}],30:[function(require,module,exports){
var html=require("choo/html"),block=require("./block");module.exports=function(e,t,o,r,n){var u=e.current?function(){}:function(t){"undefined"!=typeof t.keyCode&&13!==t.keyCode||(t.preventDefault(),n("game:replaceThis",e))},i=r?" is-selected":"";return function(){var e=require("/Users/takashi.fujita/workspace/you-have-a-pen/node_modules/yo-yoify/lib/appendChild.js"),t=document.createElement("a");return t.setAttribute("tabindex","0"),t.setAttribute("role","button"),t.setAttribute("style","bottom:0;left:0;"+arguments[0]),t.onclick=arguments[1],t.onkeydown=arguments[2],t.setAttribute("class","absolute block-cover"+arguments[3]),e(t,["\n      ",arguments[4],"\n    "]),t}(o,u,u,i,block(e,t))};

},{"./block":29,"/Users/takashi.fujita/workspace/you-have-a-pen/node_modules/yo-yoify/lib/appendChild.js":27,"choo/html":4}],31:[function(require,module,exports){
var html=require("choo/html"),flatten=require("lodash.flatten"),blocknboard=require("../components/blocknboard"),start=require("../components/start");module.exports=function(e,t,r){var a=e.game.currentBlock.x*e.game.size,o=e.game.currentBlock.y*e.game.size,s="transform:translate("+a+"px, "+-o+"px)",n=e.game.started?"":start(e,t,r),l=t.result&&e.result.totalscore!==t.result.totalscore?" is-active":"";return function(){var e=require("/Users/takashi.fujita/workspace/you-have-a-pen/node_modules/yo-yoify/lib/appendChild.js"),t=document.createElement("div");t.setAttribute("style","width:"+arguments[2]+"px;height:"+arguments[3]+"px"),t.setAttribute("class","board center");var r=document.createElement("div");return r.setAttribute("style","top:0;right:0"),r.setAttribute("class","board-score"+arguments[0]),e(r,[arguments[1]]),e(t,["\n      ",r,"\n\n      ",arguments[4],"\n\n      ",arguments[5],"\n\n      ",arguments[6],"\n    "]),t}(l,e.result.totalscore,e.game.board.rows*e.game.size,e.game.board.cols*e.game.size,flatten(e.game.orderedBlocks).filter(function(e){return!!e}).map(function(t){var a="transform:translate("+t.x*e.game.size+"px, "+-t.y*e.game.size+"px)",o=e.game.selectedBlock&&e.game.selectedBlock.x===t.x&&e.game.selectedBlock.y===t.y;return blocknboard(t,e.game.size,a,o,r)}),blocknboard(e.game.currentBlock,e.game.size,s,!1,r),n)};

},{"../components/blocknboard":30,"../components/start":33,"/Users/takashi.fujita/workspace/you-have-a-pen/node_modules/yo-yoify/lib/appendChild.js":27,"choo/html":4,"lodash.flatten":13}],32:[function(require,module,exports){
var html=require("choo/html"),block=require("./block"),nextBlock=function(e,t){return function(){var e=require("/Users/takashi.fujita/workspace/you-have-a-pen/node_modules/yo-yoify/lib/appendChild.js"),t=document.createElement("div");return t.setAttribute("style","padding: .5em; right: 0;"),t.setAttribute("class","absolute"),e(t,[arguments[0]]),t}(block(e,t))};module.exports=nextBlock;

},{"./block":29,"/Users/takashi.fujita/workspace/you-have-a-pen/node_modules/yo-yoify/lib/appendChild.js":27,"choo/html":4}],33:[function(require,module,exports){
var html=require("choo/html");module.exports=function(e,t,r){return function(){var e=require("/Users/takashi.fujita/workspace/you-have-a-pen/node_modules/yo-yoify/lib/appendChild.js"),t=document.createElement("div");t.setAttribute("class","start");var r=document.createElement("button");return r.onclick=arguments[0],e(r,["NEW GAME!"]),e(t,["\n    ",r,"\n  "]),t}(function(e){return r("game:start")})};
},{"/Users/takashi.fujita/workspace/you-have-a-pen/node_modules/yo-yoify/lib/appendChild.js":27,"choo/html":4}],34:[function(require,module,exports){
exports.looptime=1500,exports.words=["PINEAPPLE","APPLE","PEN"],exports.scores={PINEAPPLE:30,APPLE:15,PEN:10},exports.chars=["P","E","N","P","I","N","E","A","P","P","L","E","A","P","P","L","E","P","E","N"],exports.colors=["green","gray"],exports.boardSize={rows:9,cols:12},exports.getBlockSize=function(P){return P>640?48:34};

},{}],35:[function(require,module,exports){
var words=require("../lib/config").words,colors=require("../lib/config").colors;module.exports=function(r){return r.map(function(r,n){var o=colors.map(function(n){return r.map(function(r){return r&&r.color===n?r.charactor:" "}).join("")});return words.map(function(r){return{str:r,index:o.reduce(function(n,o){return Math.max(n.indexOf(r),o.indexOf(r))})}})})};

},{"../lib/config":34}],36:[function(require,module,exports){
module.exports=function(n){return n.some(function(n){return n.some(function(n){return n.index>-1})})};

},{}],37:[function(require,module,exports){
module.exports=function(e,n){return e-1===n||e+1===n};

},{}],38:[function(require,module,exports){
function newBlock(r){return{charactor:chars[rand(chars.length-1)],color:colors[rand(colors.length-1)],x:Math.round(boardSize.rows/2),y:boardSize.cols-1,current:!!r&&!!r.current}}var config=require("../lib/config"),rand=require("../lib/randInt"),chars=config.chars,colors=config.colors,boardSize=config.boardSize;module.exports=newBlock;

},{"../lib/config":34,"../lib/randInt":40}],39:[function(require,module,exports){
module.exports=function(r){return Array.apply(null,Array(r.cols)).map(function(n){return Array.apply(null,Array(r.rows)).map(function(r){return null})})};

},{}],40:[function(require,module,exports){
var randInt=function(n){return Math.floor(Math.random()*(n-0+1))+0};module.exports=randInt;
},{}],41:[function(require,module,exports){
var key=require("keymaster"),xtend=require("xtend"),flatten=require("lodash.flatten"),cloneDeep=require("lodash.cloneDeep"),config=require("../lib/config"),getIndexOfLines=require("../lib/indexOfLines"),isGotWord=require("../lib/isGotWord"),newBlock=require("../lib/newBlock"),orderedMatrix=require("../lib/orderedMatrix"),isNeighbor=require("../lib/isNeighbor"),boardSize=config.boardSize;module.exports={namespace:"game",state:{timer:null,started:!1,ended:!1,pause:!1,looptime:config.looptime,size:config.getBlockSize(window.innerWidth),board:boardSize,nextBlock:{charactor:null,color:null},currentBlock:{charactor:null,color:null},orderedBlocks:orderedMatrix(boardSize),selectedBlock:null},reducers:{newGame:function(e,n){return{timer:null,started:!0,ended:!1,nextBlock:newBlock(),currentBlock:newBlock({current:!0}),orderedBlocks:orderedMatrix(boardSize)}},makeCurrentEmpty:function(){return{currentBlock:{charactor:null,color:null}}},updateNext:function(e,n){return{nextBlock:e,currentBlock:xtend(n.nextBlock,{current:!0})}},updateCurrent:function(e,n){return{currentBlock:e}},setPause:function(e,n){return{pause:e}},changeBlocks:function(e,n){return{orderedBlocks:e}},selectBlock:function(e,n){return{selectedBlock:e}},stopTimer:function(e,n){return{timer:null}},end:function(e,n){return{started:!1,ended:!0}}},effects:{start:function(e,n,r,o){r("game:stopTimer",null,o),r("result:reset",null,o),r("game:newGame",o),r("game:mainLoop",o)},stop:function(e,n,r,o){clearTimeout(n.timer),r("game:stopTimer",o)},pause:function(e,n,r,o){n.pause?(r("game:setPause",!1,o),r("game:mainLoop",o)):(r("game:stop",null,o),r("game:setPause",!0,o))},removeBlocks:function(e,n,r,o){var t=cloneDeep(n.orderedBlocks),c=[],l=null,u="";e.forEach(function(e,n){for(var i=function(i){if(e[i].index>-1&&(l=n,u=e[i].str,Array.prototype.forEach.call(e[i].str,function(l,u){t[n][e[i].index+u].current&&r("game:makeCurrentEmpty",o),c.push(e[i].index+u),t[n][e[i].index+u]=null}),"PINEAPPLE"===u))return"break"},a=0;a<e.length;a++){var d=i(a);if("break"===d)break}}),setTimeout(function(){for(var e=function(e){c.forEach(function(n){if(t[e][n]){var r=xtend(t[e][n],{y:t[e][n].y-1});t[e][n]=null,t[e-1][n]=r}})},u=l+1;u<t.length;u++)e(u);r("game:changeBlocks",t,o);var i=getIndexOfLines(t);return isGotWord(i)?void r("game:removeBlocks",i,o):void(null===n.timer&&setTimeout(function(){r("game:updateNext",newBlock(),o),r("game:mainLoop",o)},n.looptime/1.5))},n.looptime/1.5),r("result:remove",u,o),r("game:changeBlocks",t,o)},replaceThis:function(e,n,r,o){if(null===n.selectedBlock)r("game:selectBlock",e,o);else if(n.selectedBlock.color===e.color)if(isNeighbor(e.x,n.selectedBlock.x)||isNeighbor(e.y,n.selectedBlock.y)){var t=cloneDeep(n.orderedBlocks);t[e.y][e.x].charactor=n.orderedBlocks[n.selectedBlock.y][n.selectedBlock.x].charactor,t[n.selectedBlock.y][n.selectedBlock.x].charactor=n.orderedBlocks[e.y][e.x].charactor,t[e.y][e.x].selected=!0,t[n.selectedBlock.y][n.selectedBlock.x].selected=!0,r("game:changeBlocks",t,o);var c=getIndexOfLines(t);isGotWord(c)&&r("game:removeBlocks",c,o),r("game:selectBlock",null,o)}else r("game:selectBlock",null,o);else r("game:selectBlock",null,o)},mainLoop:function(e,n,r,o){n.timer=setTimeout(function(){r("game:loop",o)},n.looptime)},loop:function(e,n,r,o){n.currentBlock.y>0&&flatten(n.orderedBlocks).filter(function(e){return!!e}).every(function(e){return!(n.currentBlock.x===e.x&&n.currentBlock.y-1===e.y)})?(r("game:handleDown",o),r("game:mainLoop",o)):r("game:next",o)},next:function(e,n,r,o){r("game:stopTimer",null,o);var t=cloneDeep(n.orderedBlocks);t[n.currentBlock.y][n.currentBlock.x]=n.currentBlock,r("game:changeBlocks",t,o);var c=getIndexOfLines(t);return isGotWord(c)?void r("game:removeBlocks",c,o):(t[n.currentBlock.y][n.currentBlock.x]=xtend(n.currentBlock,{current:!1}),r("game:changeBlocks",t,o),void(flatten(n.orderedBlocks).filter(function(e){return!!e}).findIndex(function(e){return e.x===Math.round(boardSize.rows/2)&&e.y===boardSize.cols-1})>0?r("game:over",o):(r("game:updateNext",newBlock(),o),r("game:mainLoop",o))))},over:function(e,n,r,o){r("game:stopTimer",null,o),r("game:end",null,o)},handleDown:function(e,n,r,o){n.currentBlock.y>0&&flatten(n.orderedBlocks).filter(function(e){return!!e}).every(function(e){return!(n.currentBlock.x===e.x&&n.currentBlock.y-1===e.y)})&&r("game:updateCurrent",xtend(n.currentBlock,{y:n.currentBlock.y-1}),o)},handleLeft:function(e,n,r,o){n.currentBlock.x>0&&flatten(n.orderedBlocks).filter(function(e){return!!e}).every(function(e){return!(n.currentBlock.y===e.y&&n.currentBlock.x-1===e.x)})&&r("game:updateCurrent",xtend(n.currentBlock,{x:n.currentBlock.x-1}),o)},handleRight:function(e,n,r,o){n.currentBlock.x<n.board.rows-1&&flatten(n.orderedBlocks).filter(function(e){return!!e}).every(function(e){return!(n.currentBlock.y===e.y&&n.currentBlock.x+1===e.x)})&&r("game:updateCurrent",xtend(n.currentBlock,{x:n.currentBlock.x+1}),o)}},subscriptions:[function(e,n){var r=0,o=0,t=0,c=0,l=null,u=null,i=10,a=function(){Math.abs(r-t)>i&&(r>t?e("game:handleLeft",n):e("game:handleRight",n)),Math.abs(o-c)>50&&o<c&&e("game:handleDown",n)},d=function(){a(),l=setTimeout(d,100)};key("down",function(r){r.preventDefault(),e("game:handleDown",n)}),key("left",function(r){r.preventDefault(),e("game:handleLeft",n)}),key("right",function(r){r.preventDefault(),e("game:handleRight",n)}),key("esc",function(){e("game:pause",n)}),window.onerror=function(e,n,r,o,t){throw alert("予期せぬエラー"),new Error("UncaughtError:"+e)},window.Touch&&(window.addEventListener("touchstart",function(e){r=t=e.changedTouches[0].screenX,o=c=e.changedTouches[0].screenY,setTimeout(function(){a()},4),u=setTimeout(function(){d()},350)},!1),window.addEventListener("touchend",function(e){clearTimeout(l),clearTimeout(u)},!1),window.addEventListener("touchmove",function(e){e.preventDefault(),t=e.changedTouches[0].screenX,c=e.changedTouches[0].screenY},!1))}]};

},{"../lib/config":34,"../lib/indexOfLines":35,"../lib/isGotWord":36,"../lib/isNeighbor":37,"../lib/newBlock":38,"../lib/orderedMatrix":39,"keymaster":11,"lodash.cloneDeep":12,"lodash.flatten":13,"xtend":23}],42:[function(require,module,exports){
function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xtend=require("xtend"),scores=require("../lib/config").scores;module.exports={namespace:"result",state:{totalscore:0,details:{PINEAPPLE:0,APPLE:0,PEN:0}},reducers:{addScore:function(e,t){return{totalscore:e.total,details:xtend(t.details,e.details)}},reset:function(e,t){return{totalscore:0,details:{PINEAPPLE:0,APPLE:0,PEN:0}}}},effects:{remove:function(e,t,r,o){r("result:addScore",{total:t.totalscore+scores[e],details:_defineProperty({},e,t.details[e]+scores[e])},o)}}};

},{"../lib/config":34,"xtend":23}],43:[function(require,module,exports){
var html=require("choo/html");module.exports=function(e,t,n){return function(){var e=require("/Users/takashi.fujita/workspace/you-have-a-pen/node_modules/yo-yoify/lib/appendChild.js"),t=document.createElement("main");t.setAttribute("class","center");var n=document.createElement("p");e(n,["Thank you!"]);var r=document.createElement("div"),o=document.createElement("button");return o.onclick=arguments[0],e(o,["NEW GAME"]),e(r,["\n      ",o,"\n    "]),e(t,["\n    ",n,"\n    Result: ",arguments[1]," points!\n    ",r,"\n  "]),t}(function(e){return n("game:start")},e.result.totalscore)};

},{"/Users/takashi.fujita/workspace/you-have-a-pen/node_modules/yo-yoify/lib/appendChild.js":27,"choo/html":4}],44:[function(require,module,exports){
var html=require("choo/html"),board=require("../components/board"),next=require("../components/next"),endView=require("../views/endView");module.exports=function(e,t,n){return e.game.ended?endView(e,t,n):function(){var e=require("/Users/takashi.fujita/workspace/you-have-a-pen/node_modules/yo-yoify/lib/appendChild.js"),t=document.createElement("main");t.setAttribute("class","container");var n=document.createElement("div");n.setAttribute("class","relative height3"),e(n,[arguments[0]]);var r=document.createElement("div");return r.setAttribute("class","controller"),e(r,["\n        ",arguments[1],"\n      "]),e(t,["\n      ",n,"\n      ",arguments[2],"\n      ",r,"\n    "]),t}(next(e.game.nextBlock,e.game.size),Object.keys(e.result.details).map(function(t){return function(){var e=require("/Users/takashi.fujita/workspace/you-have-a-pen/node_modules/yo-yoify/lib/appendChild.js"),t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("span");return e(r,[arguments[0]]),e(n,[arguments[1],": ",r]),e(t,["\n              ",n,"\n            "]),t}(e.result.details[t],t)}),board(e,t,n))};
},{"../components/board":31,"../components/next":32,"../views/endView":43,"/Users/takashi.fujita/workspace/you-have-a-pen/node_modules/yo-yoify/lib/appendChild.js":27,"choo/html":4}]},{},[28]);
