(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function applyHook(o,p,n,a,c,f){o.forEach(function(o){o(p,n,a,c,f)})}module.exports=applyHook;

},{}],2:[function(require,module,exports){
function dispatcher(t){function r(t){t.onStateChange&&a.push(t.onStateChange),t.onError&&i.push(wrapOnError(t.onError)),t.onAction&&u.push(t.onAction),t.wrapSubscriptions&&f.push(t.wrapSubscriptions),t.wrapInitialState&&s.push(t.wrapInitialState),t.wrapReducers&&p.push(t.wrapReducers),t.wrapEffects&&c.push(t.wrapEffects)}function e(t){k.push(t)}function n(t){t=t||{};var r=t.state;if(!t.state&&t.freeze===!1)return xtend(b);if(!t.state)return Object.freeze(xtend(b));var e=[],n={};k.forEach(function(t){var o=t.namespace;e.push(o);var a=t.state||{};o?(n[o]=n[o]||{},apply(o,a,n),n[o]=xtend(n[o],r[o])):mutate(n,a)}),Object.keys(r).forEach(function(t){e.indexOf(t)===-1&&(n[t]=r[t])});var o=xtend(b,xtend(r,n)),a=wrapHook(o,s);return t.freeze===!1?a:Object.freeze(a)}function o(t){function r(t,r){return function(n,o,a){function u(t){t=t||null,t&&applyHook(i,t,b,function(t){return function(r,n){n="undefined"==typeof n?null:n,e(r,n,t,f)}})}a||r||(a=o,o=null),o="undefined"==typeof o?null:o;var f=r?u:a;e(n,o,t,f)}}function e(t,e,n,o){setTimeout(function(){var i=!1,f=!1,s=xtend(b);u.length&&applyHook(u,b,e,t,n,r);var p=t;if(/:/.test(t)){var c=t.split(":"),l=c.shift();p=c.join(":")}var d=l?y[l]:y;if(d&&d[p]){if(l){var h=d[p](b[l],e);s[l]=xtend(b[l],h)}else mutate(s,y[p](b,e));i=!0,a.length&&applyHook(a,s,e,b,p,r),b=s,o(null,s)}var v=l?E[l]:E;if(!i&&v&&v[p]){var w=r("effect: "+t);l?v[p](b[l],e,w,o):v[p](b,e,w,o),f=!0}if(!i&&!f)throw new Error("Could not find action "+p)},0)}return t=t||{},k.forEach(function(e){var n=e.namespace;if(!h&&e.state&&t.state!==!1){var o=e.state||{};n?(b[n]=b[n]||{},apply(n,o,b)):mutate(b,o)}!l&&e.reducers&&t.reducers!==!1&&apply(n,e.reducers,y,function(t){return wrapHook(t,p)}),!d&&e.effects&&t.effects!==!1&&apply(n,e.effects,E,function(t){return wrapHook(t,c)}),!v&&e.subscriptions&&t.subscriptions!==!1&&apply(n,e.subscriptions,w,function(t,e){var o=r("subscription: "+(n?n+":"+e:e));return t=wrapHook(t,f),t(o,function(t){applyHook(i,t,b,r)}),t})}),h||t.state===!1||(b=wrapHook(b,s)),t.noSubscriptions||(v=!0),t.noReducers||(l=!0),t.noEffects||(d=!0),t.noState||(h=!0),i.length||i.push(wrapOnError(defaultOnError)),r}t=t||{};var a=[],u=[],i=[],f=[],s=[],p=[],c=[];r(t);var l=!1,d=!1,h=!1,v=!1,w=o._subscriptions={},y=o._reducers={},E=o._effects={},k=o._models=[],b={};return o.model=e,o.state=n,o.start=o,o.use=r,o}function apply(t,r,e,n){t&&!e[t]&&(e[t]={}),Object.keys(r).forEach(function(o){var a=n?n(r[o],o):r[o];t?e[t][o]=a:e[o]=a})}function defaultOnError(t){throw t}function wrapOnError(t){return function(r,e,n){r&&t(r,e,n)}}function wrapHook(t,r){return r.forEach(function(r){t=r(t)}),t}var mutate=require("xtend/mutable"),xtend=require("xtend"),applyHook=require("./apply-hook");module.exports=dispatcher;

},{"./apply-hook":1,"xtend":30,"xtend/mutable":31}],3:[function(require,module,exports){
function belCreateElement(e,t,a){function n(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var a=e[t];if(Array.isArray(a))n(a);else{if(("number"==typeof a||"boolean"==typeof a||a instanceof Date||a instanceof RegExp)&&(a=a.toString()),"string"==typeof a){if(o.lastChild&&"#text"===o.lastChild.nodeName){o.lastChild.nodeValue+=a;continue}a=document.createTextNode(a)}a&&a.nodeType&&o.appendChild(a)}}}var o;SVG_TAGS.indexOf(e)!==-1&&(t.namespace=SVGNS);var l=!1;if(t.namespace&&(l=t.namespace,delete t.namespace),o=l?document.createElementNS(l,e):document.createElement(e),t.onload||t.onunload){var r=t.onload||function(){},i=t.onunload||function(){};onload(o,function(){r(o)},function(){i(o)},belCreateElement.caller.caller.caller),delete t.onload,delete t.onunload}for(var f in t)if(t.hasOwnProperty(f)){var c=f.toLowerCase(),s=t[f];if("classname"===c&&(c="class",f="class"),"htmlFor"===f&&(f="for"),BOOL_PROPS[c])if("true"===s)s=c;else if("false"===s)continue;"on"===c.slice(0,2)?o[f]=s:l?"xlink:href"===f?o.setAttributeNS(XLINKNS,f,s):o.setAttributeNS(null,f,s):o.setAttribute(f,s)}return n(a),o}var document=require("global/document"),hyperx=require("hyperx"),onload=require("on-load"),SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",BOOL_PROPS={autofocus:1,checked:1,defaultchecked:1,disabled:1,formnovalidate:1,indeterminate:1,readonly:1,required:1,selected:1,willvalidate:1},SVG_TAGS=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"];module.exports=hyperx(belCreateElement),module.exports.createElement=belCreateElement;

},{"global/document":7,"hyperx":10,"on-load":20}],4:[function(require,module,exports){

},{}],5:[function(require,module,exports){
module.exports=require("yo-yo");

},{"yo-yo":32}],6:[function(require,module,exports){
function choo(e){function t(e,t){function r(){return function(){}}t=t||{},c.start({subscriptions:!1,reducers:!1,effects:!1});var n=c.state({state:t}),o=i(f,l,r),a=o(e,n);return a.outerHTML||a.toString()}function r(){function t(e){h=e}c.model(createLocationModel(e));var n=c.start(e);s=r._router=i(f,l,n);var o=c.state({state:{}}),a=s(o.location.href,o);return h=a,a.done=t,a}function n(e,t,r,n,o){d||(d=nanoraf(function(e,t){var r=s(e.location.href,e,t);h=yo.update(h,r)})),d(e,r)}function o(e,t){f=e,l=t}function a(e){c.model(e)}function u(e){c.use(e)}function i(t,r,n){function o(t,r){var o=n("view: "+t,!0);return function(t){return function(n){var u=a;a=n;var i=xtend(n);return i.location=xtend(u.location,{params:t}),e.freeze!==!1&&Object.freeze(i),r(i,u,o)}}}var a={};r||(r=t,t={}),t=mutate({thunk:"match"},t);var u=sheetRouter(t,r);return walk(u,o),u}e=e||{};var c=r._store=barracks(),s=r._router=null,f=null,h=null,l=null,d=null;return c.use({onStateChange:n}),c.use(e),r.toString=t,r.router=o,r.model=a,r.start=r,r.use=u,r}function createLocationModel(e){function t(t,r){if(e.history!==!1&&r.hash&&r.hash!==t.hash){var n=document.querySelector(r.hash);n&&n.scrollIntoView(!0)}return r}function r(e,t,r,n){var o=createLocation(e,t);r("location:update",o,n)}function n(t,r,n,o){var a=createLocation(t,r);e.history!==!1&&a.href!==t.href&&window.history.pushState({},null,a.href),n("location:update",a,o)}function o(e){var t={};return e.history!==!1&&(t.handleHistory=function(e,t){onHistoryChange(function(r){e("location:touch",r,t)})}),e.href!==!1&&(t.handleHref=function(e,t){onHref(function(r){e("location:set",r,t)})}),t}return{namespace:"location",state:mutate(createLocation(),{params:{}}),subscriptions:o(e),effects:{set:n,touch:r},reducers:{update:t}}}var createLocation=require("sheet-router/create-location"),onHistoryChange=require("sheet-router/history"),sheetRouter=require("sheet-router"),onHref=require("sheet-router/href"),walk=require("sheet-router/walk"),mutate=require("xtend/mutable"),barracks=require("barracks"),nanoraf=require("nanoraf"),xtend=require("xtend"),yo=require("yo-yo");module.exports=choo;
},{"barracks":2,"nanoraf":19,"sheet-router":25,"sheet-router/create-location":22,"sheet-router/history":23,"sheet-router/href":24,"sheet-router/walk":26,"xtend":30,"xtend/mutable":31,"yo-yo":32}],7:[function(require,module,exports){
(function (global){
var topLevel="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},minDoc=require("min-document");if("undefined"!=typeof document)module.exports=document;else{var doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc),module.exports=doccy}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"min-document":4}],8:[function(require,module,exports){
(function (global){
"undefined"!=typeof window?module.exports=window:"undefined"!=typeof global?module.exports=global:"undefined"!=typeof self?module.exports=self:module.exports={};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],9:[function(require,module,exports){
function attributeToProperty(r){return function(t,o,e){for(var n in o)n in transform&&(o[transform[n]]=o[n],delete o[n]);return r(t,o,e)}}module.exports=attributeToProperty;var transform={class:"className",for:"htmlFor","http-equiv":"httpEquiv"};
},{}],10:[function(require,module,exports){
function quot(T){return T===ATTR_VALUE_SQ||T===ATTR_VALUE_DQ}function has(T,e){return hasOwn.call(T,e)}function selfClosing(T){return closeRE.test(T)}var attrToProp=require("hyperscript-attribute-to-property"),VAR=0,TEXT=1,OPEN=2,CLOSE=3,ATTR=4,ATTR_KEY=5,ATTR_KEY_W=6,ATTR_VALUE_W=7,ATTR_VALUE=8,ATTR_VALUE_SQ=9,ATTR_VALUE_DQ=10,ATTR_EQ=11,ATTR_BREAK=12;module.exports=function(T,e){function A(T){return"function"==typeof T?T:"string"==typeof T?T:T&&"object"==typeof T?T:t("",T)}T=attrToProp(T),e||(e={});var t=e.concat||function(T,e){return String(T)+String(e)};return function(e){function n(T){var e=[];r===ATTR_VALUE_W&&(r=ATTR);for(var A=0;A<T.length;A++){var t=T.charAt(A);r===TEXT&&"<"===t?(R.length&&e.push([TEXT,R]),R="",r=OPEN):">"!==t||quot(r)?r===TEXT?R+=t:r===OPEN&&/\s/.test(t)?(e.push([OPEN,R]),R="",r=ATTR):r===OPEN?R+=t:r===ATTR&&/[\w-]/.test(t)?(r=ATTR_KEY,R=t):r===ATTR&&/\s/.test(t)?(R.length&&e.push([ATTR_KEY,R]),e.push([ATTR_BREAK])):r===ATTR_KEY&&/\s/.test(t)?(e.push([ATTR_KEY,R]),R="",r=ATTR_KEY_W):r===ATTR_KEY&&"="===t?(e.push([ATTR_KEY,R],[ATTR_EQ]),R="",r=ATTR_VALUE_W):r===ATTR_KEY?R+=t:r!==ATTR_KEY_W&&r!==ATTR||"="!==t?r!==ATTR_KEY_W&&r!==ATTR||/\s/.test(t)?r===ATTR_VALUE_W&&'"'===t?r=ATTR_VALUE_DQ:r===ATTR_VALUE_W&&"'"===t?r=ATTR_VALUE_SQ:r===ATTR_VALUE_DQ&&'"'===t?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r===ATTR_VALUE_SQ&&"'"===t?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r!==ATTR_VALUE_W||/\s/.test(t)?r===ATTR_VALUE&&/\s/.test(t)?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r!==ATTR_VALUE&&r!==ATTR_VALUE_SQ&&r!==ATTR_VALUE_DQ||(R+=t):(r=ATTR_VALUE,A--):(e.push([ATTR_BREAK]),/[\w-]/.test(t)?(R+=t,r=ATTR_KEY):r=ATTR):(e.push([ATTR_EQ]),r=ATTR_VALUE_W):(r===OPEN?e.push([OPEN,R]):r===ATTR_KEY?e.push([ATTR_KEY,R]):r===ATTR_VALUE&&R.length&&e.push([ATTR_VALUE,R]),e.push([CLOSE]),R="",r=TEXT)}return r===TEXT&&R.length?(e.push([TEXT,R]),R=""):r===ATTR_VALUE&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_VALUE_DQ&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_VALUE_SQ&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_KEY&&(e.push([ATTR_KEY,R]),R=""),e}for(var r=TEXT,R="",E=arguments.length,_=[],s=0;s<e.length;s++)if(s<E-1){var o=arguments[s+1],l=n(e[s]),f=r;f===ATTR_VALUE_DQ&&(f=ATTR_VALUE),f===ATTR_VALUE_SQ&&(f=ATTR_VALUE),f===ATTR_VALUE_W&&(f=ATTR_VALUE),f===ATTR&&(f=ATTR_KEY),l.push([VAR,f,o]),_.push.apply(_,l)}else _.push.apply(_,n(e[s]));for(var h=[null,{},[]],i=[[h,-1]],s=0;s<_.length;s++){var a=i[i.length-1][0],l=_[s],p=l[0];if(p===OPEN&&/^\//.test(l[1])){var u=i[i.length-1][1];i.length>1&&(i.pop(),i[i.length-1][0][2][u]=T(a[0],a[1],a[2].length?a[2]:void 0))}else if(p===OPEN){var g=[l[1],{},[]];a[2].push(g),i.push([g,a[2].length-1])}else if(p===ATTR_KEY||p===VAR&&l[1]===ATTR_KEY){for(var L,V="";s<_.length;s++)if(_[s][0]===ATTR_KEY)V=t(V,_[s][1]);else{if(_[s][0]!==VAR||_[s][1]!==ATTR_KEY)break;if("object"!=typeof _[s][2]||V)V=t(V,_[s][2]);else for(L in _[s][2])_[s][2].hasOwnProperty(L)&&!a[1][L]&&(a[1][L]=_[s][2][L])}_[s][0]===ATTR_EQ&&s++;for(var U=s;s<_.length;s++)if(_[s][0]===ATTR_VALUE||_[s][0]===ATTR_KEY)a[1][V]?a[1][V]=t(a[1][V],_[s][1]):a[1][V]=A(_[s][1]);else{if(_[s][0]!==VAR||_[s][1]!==ATTR_VALUE&&_[s][1]!==ATTR_KEY){!V.length||a[1][V]||s!==U||_[s][0]!==CLOSE&&_[s][0]!==ATTR_BREAK||(a[1][V]=V.toLowerCase());break}a[1][V]?a[1][V]=t(a[1][V],_[s][2]):a[1][V]=A(_[s][2])}}else if(p===ATTR_KEY)a[1][l[1]]=!0;else if(p===VAR&&l[1]===ATTR_KEY)a[1][l[2]]=!0;else if(p===CLOSE){if(selfClosing(a[0])&&i.length){var u=i[i.length-1][1];i.pop(),i[i.length-1][0][2][u]=T(a[0],a[1],a[2].length?a[2]:void 0)}}else if(p===VAR&&l[1]===TEXT)void 0===l[2]||null===l[2]?l[2]="":l[2]||(l[2]=t("",l[2])),Array.isArray(l[2][0])?a[2].push.apply(a[2],l[2]):a[2].push(l[2]);else if(p===TEXT)a[2].push(l[1]);else if(p!==ATTR_EQ&&p!==ATTR_BREAK)throw new Error("unhandled: "+p)}if(h[2].length>1&&/^\s*$/.test(h[2][0])&&h[2].shift(),h[2].length>2||2===h[2].length&&/\S/.test(h[2][1]))throw new Error("multiple root elements must be wrapped in an enclosing tag");return Array.isArray(h[2][0])&&"string"==typeof h[2][0][0]&&Array.isArray(h[2][0][2])&&(h[2][0]=T(h[2][0][0],h[2][0][1],h[2][0][2])),h[2][0]}};var hasOwn=Object.prototype.hasOwnProperty,closeRE=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-￿_:-]+)*$");

},{"hyperscript-attribute-to-property":9}],11:[function(require,module,exports){
function createStyleElement(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}var containers=[],styleElements=[];module.exports=function(e,t){t=t||{};var n=t.prepend===!0?"prepend":"append",s=void 0!==t.container?t.container:document.querySelector("head"),r=containers.indexOf(s);r===-1&&(r=containers.push(s)-1,styleElements[r]={});var l;return void 0!==styleElements[r]&&void 0!==styleElements[r][n]?l=styleElements[r][n]:(l=styleElements[r][n]=createStyleElement(),"prepend"===n?s.insertBefore(l,s.childNodes[0]):s.appendChild(l)),l.styleSheet?l.styleSheet.cssText+=e:l.textContent+=e,l};

},{}],12:[function(require,module,exports){
!function(e){function n(e,n){for(var t=e.length;t--;)if(e[t]===n)return t;return-1}function t(e,n){if(e.length!=n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function o(e){for(m in b)b[m]=e[T[m]]}function r(e){var t,r,i,l,c,u;if(t=e.keyCode,n(S,t)==-1&&S.push(t),93!=t&&224!=t||(t=91),t in b){b[t]=!0;for(i in C)C[i]==t&&(f[i]=!0)}else if(o(e),f.filter.call(this,e)&&t in E)for(u=p(),l=0;l<E[t].length;l++)if(r=E[t][l],r.scope==u||"all"==r.scope){c=r.mods.length>0;for(i in b)(!b[i]&&n(r.mods,+i)>-1||b[i]&&n(r.mods,+i)==-1)&&(c=!1);(0!=r.mods.length||b[16]||b[18]||b[17]||b[91])&&!c||r.method(e,r)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function i(e){var t,o=e.keyCode,r=n(S,o);if(r>=0&&S.splice(r,1),93!=o&&224!=o||(o=91),o in b){b[o]=!1;for(t in C)C[t]==o&&(f[t]=!1)}}function l(){for(m in b)b[m]=!1;for(m in C)f[m]=!1}function f(e,n,t){var o,r;o=g(e),void 0===t&&(t=n,n="all");for(var i=0;i<o.length;i++)r=[],e=o[i].split("+"),e.length>1&&(r=v(e),e=[e[e.length-1]]),e=e[0],e=P(e),e in E||(E[e]=[]),E[e].push({shortcut:o[i],scope:n,method:t,key:o[i],mods:r})}function c(e,n){var o,r,i,l,f,c=[];for(o=g(e),l=0;l<o.length;l++){if(r=o[l].split("+"),r.length>1&&(c=v(r),e=r[r.length-1]),e=P(e),void 0===n&&(n=p()),!E[e])return;for(i=0;i<E[e].length;i++)f=E[e][i],f.scope===n&&t(f.mods,c)&&(E[e][i]={})}}function u(e){return"string"==typeof e&&(e=P(e)),n(S,e)!=-1}function a(){return S.slice(0)}function s(e){var n=(e.target||e.srcElement).tagName;return!("INPUT"==n||"SELECT"==n||"TEXTAREA"==n)}function d(e){w=e||"all"}function p(){return w||"all"}function h(e){var n,t,o;for(n in E)for(t=E[n],o=0;o<t.length;)t[o].scope===e?t.splice(o,1):o++}function g(e){var n;return e=e.replace(/\s/g,""),n=e.split(","),""==n[n.length-1]&&(n[n.length-2]+=","),n}function v(e){for(var n=e.slice(0,e.length-1),t=0;t<n.length;t++)n[t]=C[n[t]];return n}function y(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent&&e.attachEvent("on"+n,function(){t(window.event)})}function k(){var n=e.key;return e.key=A,n}var m,E={},b={16:!1,18:!1,17:!1,91:!1},w="all",C={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},K={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},P=function(e){return K[e]||e.toUpperCase().charCodeAt(0)},S=[];for(m=1;m<20;m++)K["f"+m]=111+m;var T={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(m in C)f[m]=!1;y(document,"keydown",function(e){r(e)}),y(document,"keyup",i),y(window,"focus",l);var A=e.key;e.key=f,e.key.setScope=d,e.key.getScope=p,e.key.deleteScope=h,e.key.filter=s,e.key.isPressed=u,e.key.getPressedKeyCodes=a,e.key.noConflict=k,e.key.unbind=c,"undefined"!=typeof module&&(module.exports=f)}(this);
},{}],13:[function(require,module,exports){
function apply(r,e,t){switch(t.length){case 0:return r.call(e);case 1:return r.call(e,t[0]);case 2:return r.call(e,t[0],t[1]);case 3:return r.call(e,t[0],t[1],t[2])}return r.apply(e,t)}function baseTimes(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n}function overArg(r,e){return function(t){return r(e(t))}}function arrayLikeKeys(r,e){var t=isArray(r)||isArguments(r)?baseTimes(r.length,String):[],n=t.length,o=!!n;for(var i in r)!e&&!hasOwnProperty.call(r,i)||o&&("length"==i||isIndex(i,n))||t.push(i);return t}function assignValue(r,e,t){var n=r[e];hasOwnProperty.call(r,e)&&eq(n,t)&&(void 0!==t||e in r)||(r[e]=t)}function baseKeys(r){if(!isPrototype(r))return nativeKeys(r);var e=[];for(var t in Object(r))hasOwnProperty.call(r,t)&&"constructor"!=t&&e.push(t);return e}function baseRest(r,e){return e=nativeMax(void 0===e?r.length-1:e,0),function(){for(var t=arguments,n=-1,o=nativeMax(t.length-e,0),i=Array(o);++n<o;)i[n]=t[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=t[n];return a[e]=i,apply(r,this,a)}}function copyObject(r,e,t,n){t||(t={});for(var o=-1,i=e.length;++o<i;){var a=e[o],s=n?n(t[a],r[a],a,t,r):void 0;assignValue(t,a,void 0===s?r[a]:s)}return t}function createAssigner(r){return baseRest(function(e,t){var n=-1,o=t.length,i=o>1?t[o-1]:void 0,a=o>2?t[2]:void 0;for(i=r.length>3&&"function"==typeof i?(o--,i):void 0,a&&isIterateeCall(t[0],t[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++n<o;){var s=t[n];s&&r(e,s,n,i)}return e})}function isIndex(r,e){return e=null==e?MAX_SAFE_INTEGER:e,!!e&&("number"==typeof r||reIsUint.test(r))&&r>-1&&r%1==0&&r<e}function isIterateeCall(r,e,t){if(!isObject(t))return!1;var n=typeof e;return!!("number"==n?isArrayLike(t)&&isIndex(e,t.length):"string"==n&&e in t)&&eq(t[e],r)}function isPrototype(r){var e=r&&r.constructor,t="function"==typeof e&&e.prototype||objectProto;return r===t}function eq(r,e){return r===e||r!==r&&e!==e}function isArguments(r){return isArrayLikeObject(r)&&hasOwnProperty.call(r,"callee")&&(!propertyIsEnumerable.call(r,"callee")||objectToString.call(r)==argsTag)}function isArrayLike(r){return null!=r&&isLength(r.length)&&!isFunction(r)}function isArrayLikeObject(r){return isObjectLike(r)&&isArrayLike(r)}function isFunction(r){var e=isObject(r)?objectToString.call(r):"";return e==funcTag||e==genTag}function isLength(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=MAX_SAFE_INTEGER}function isObject(r){var e=typeof r;return!!r&&("object"==e||"function"==e)}function isObjectLike(r){return!!r&&"object"==typeof r}function keys(r){return isArrayLike(r)?arrayLikeKeys(r):baseKeys(r)}var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",reIsUint=/^(?:0|[1-9]\d*)$/,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nonEnumShadows=!propertyIsEnumerable.call({valueOf:1},"valueOf"),isArray=Array.isArray,assign=createAssigner(function(r,e){if(nonEnumShadows||isPrototype(e)||isArrayLike(e))return void copyObject(e,keys(e),r);for(var t in e)hasOwnProperty.call(e,t)&&assignValue(r,t,e[t])});module.exports=assign;

},{}],14:[function(require,module,exports){
(function (global){
function addMapEntry(e,t){return e.set(t[0],t[1]),e}function addSetEntry(e,t){return e.add(t),e}function arrayEach(e,t){for(var a=-1,r=e?e.length:0;++a<r&&t(e[a],a,e)!==!1;);return e}function arrayPush(e,t){for(var a=-1,r=t.length,n=e.length;++a<r;)e[n+a]=t[a];return e}function arrayReduce(e,t,a,r){var n=-1,o=e?e.length:0;for(r&&o&&(a=e[++n]);++n<o;)a=t(a,e[n],n,e);return a}function baseTimes(e,t){for(var a=-1,r=Array(e);++a<e;)r[a]=t(a);return r}function getValue(e,t){return null==e?void 0:e[t]}function isHostObject(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function mapToArray(e){var t=-1,a=Array(e.size);return e.forEach(function(e,r){a[++t]=[r,e]}),a}function overArg(e,t){return function(a){return e(t(a))}}function setToArray(e){var t=-1,a=Array(e.size);return e.forEach(function(e){a[++t]=e}),a}function Hash(e){var t=-1,a=e?e.length:0;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(e){return this.has(e)&&delete this.__data__[e]}function hashGet(e){var t=this.__data__;if(nativeCreate){var a=t[e];return a===HASH_UNDEFINED?void 0:a}return hasOwnProperty.call(t,e)?t[e]:void 0}function hashHas(e){var t=this.__data__;return nativeCreate?void 0!==t[e]:hasOwnProperty.call(t,e)}function hashSet(e,t){var a=this.__data__;return a[e]=nativeCreate&&void 0===t?HASH_UNDEFINED:t,this}function ListCache(e){var t=-1,a=e?e.length:0;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(e){var t=this.__data__,a=assocIndexOf(t,e);if(a<0)return!1;var r=t.length-1;return a==r?t.pop():splice.call(t,a,1),!0}function listCacheGet(e){var t=this.__data__,a=assocIndexOf(t,e);return a<0?void 0:t[a][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,t){var a=this.__data__,r=assocIndexOf(a,e);return r<0?a.push([e,t]):a[r][1]=t,this}function MapCache(e){var t=-1,a=e?e.length:0;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(e){return getMapData(this,e).delete(e)}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,t){return getMapData(this,e).set(e,t),this}function Stack(e){this.__data__=new ListCache(e)}function stackClear(){this.__data__=new ListCache}function stackDelete(e){return this.__data__.delete(e)}function stackGet(e){return this.__data__.get(e)}function stackHas(e){return this.__data__.has(e)}function stackSet(e,t){var a=this.__data__;if(a instanceof ListCache){var r=a.__data__;if(!Map||r.length<LARGE_ARRAY_SIZE-1)return r.push([e,t]),this;a=this.__data__=new MapCache(r)}return a.set(e,t),this}function arrayLikeKeys(e,t){var a=isArray(e)||isArguments(e)?baseTimes(e.length,String):[],r=a.length,n=!!r;for(var o in e)!t&&!hasOwnProperty.call(e,o)||n&&("length"==o||isIndex(o,r))||a.push(o);return a}function assignValue(e,t,a){var r=e[t];hasOwnProperty.call(e,t)&&eq(r,a)&&(void 0!==a||t in e)||(e[t]=a)}function assocIndexOf(e,t){for(var a=e.length;a--;)if(eq(e[a][0],t))return a;return-1}function baseAssign(e,t){return e&&copyObject(t,keys(t),e)}function baseClone(e,t,a,r,n,o,c){var s;if(r&&(s=o?r(e,n,o,c):r(e)),void 0!==s)return s;if(!isObject(e))return e;var i=isArray(e);if(i){if(s=initCloneArray(e),!t)return copyArray(e,s)}else{var u=getTag(e),l=u==funcTag||u==genTag;if(isBuffer(e))return cloneBuffer(e,t);if(u==objectTag||u==argsTag||l&&!o){if(isHostObject(e))return o?e:{};if(s=initCloneObject(l?{}:e),!t)return copySymbols(e,baseAssign(s,e))}else{if(!cloneableTags[u])return o?e:{};s=initCloneByTag(e,u,baseClone,t)}}c||(c=new Stack);var g=c.get(e);if(g)return g;if(c.set(e,s),!i)var f=a?getAllKeys(e):keys(e);return arrayEach(f||e,function(n,o){f&&(o=n,n=e[o]),assignValue(s,o,baseClone(n,t,a,r,o,e,c))}),s}function baseCreate(e){return isObject(e)?objectCreate(e):{}}function baseGetAllKeys(e,t,a){var r=t(e);return isArray(e)?r:arrayPush(r,a(e))}function baseGetTag(e){return objectToString.call(e)}function baseIsNative(e){if(!isObject(e)||isMasked(e))return!1;var t=isFunction(e)||isHostObject(e)?reIsNative:reIsHostCtor;return t.test(toSource(e))}function baseKeys(e){if(!isPrototype(e))return nativeKeys(e);var t=[];for(var a in Object(e))hasOwnProperty.call(e,a)&&"constructor"!=a&&t.push(a);return t}function cloneBuffer(e,t){if(t)return e.slice();var a=new e.constructor(e.length);return e.copy(a),a}function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}function cloneDataView(e,t){var a=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}function cloneMap(e,t,a){var r=t?a(mapToArray(e),!0):mapToArray(e);return arrayReduce(r,addMapEntry,new e.constructor)}function cloneRegExp(e){var t=new e.constructor(e.source,reFlags.exec(e));return t.lastIndex=e.lastIndex,t}function cloneSet(e,t,a){var r=t?a(setToArray(e),!0):setToArray(e);return arrayReduce(r,addSetEntry,new e.constructor)}function cloneSymbol(e){return symbolValueOf?Object(symbolValueOf.call(e)):{}}function cloneTypedArray(e,t){var a=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function copyArray(e,t){var a=-1,r=e.length;for(t||(t=Array(r));++a<r;)t[a]=e[a];return t}function copyObject(e,t,a,r){a||(a={});for(var n=-1,o=t.length;++n<o;){var c=t[n],s=r?r(a[c],e[c],c,a,e):void 0;assignValue(a,c,void 0===s?e[c]:s)}return a}function copySymbols(e,t){return copyObject(e,getSymbols(e),t)}function getAllKeys(e){return baseGetAllKeys(e,keys,getSymbols)}function getMapData(e,t){var a=e.__data__;return isKeyable(t)?a["string"==typeof t?"string":"hash"]:a.map}function getNative(e,t){var a=getValue(e,t);return baseIsNative(a)?a:void 0}function initCloneArray(e){var t=e.length,a=e.constructor(t);return t&&"string"==typeof e[0]&&hasOwnProperty.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function initCloneObject(e){return"function"!=typeof e.constructor||isPrototype(e)?{}:baseCreate(getPrototype(e))}function initCloneByTag(e,t,a,r){var n=e.constructor;switch(t){case arrayBufferTag:return cloneArrayBuffer(e);case boolTag:case dateTag:return new n(+e);case dataViewTag:return cloneDataView(e,r);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(e,r);case mapTag:return cloneMap(e,r,a);case numberTag:case stringTag:return new n(e);case regexpTag:return cloneRegExp(e);case setTag:return cloneSet(e,r,a);case symbolTag:return cloneSymbol(e)}}function isIndex(e,t){return t=null==t?MAX_SAFE_INTEGER:t,!!t&&("number"==typeof e||reIsUint.test(e))&&e>-1&&e%1==0&&e<t}function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}function isPrototype(e){var t=e&&e.constructor,a="function"==typeof t&&t.prototype||objectProto;return e===a}function toSource(e){if(null!=e){try{return funcToString.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function cloneDeep(e){return baseClone(e,!0,!0)}function eq(e,t){return e===t||e!==e&&t!==t}function isArguments(e){return isArrayLikeObject(e)&&hasOwnProperty.call(e,"callee")&&(!propertyIsEnumerable.call(e,"callee")||objectToString.call(e)==argsTag)}function isArrayLike(e){return null!=e&&isLength(e.length)&&!isFunction(e)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function isFunction(e){var t=isObject(e)?objectToString.call(e):"";return t==funcTag||t==genTag}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isObjectLike(e){return!!e&&"object"==typeof e}function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}function stubArray(){return[]}function stubFalse(){return!1}var LARGE_ARRAY_SIZE=200,HASH_UNDEFINED="__lodash_hash_undefined__",MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",promiseTag="[object Promise]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reFlags=/\w*$/,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?root.Buffer:void 0,Symbol=root.Symbol,Uint8Array=root.Uint8Array,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeKeys=overArg(Object.keys,Object),DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var getSymbols=nativeGetSymbols?overArg(nativeGetSymbols,Object):stubArray,getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(e){var t=objectToString.call(e),a=t==objectTag?e.constructor:void 0,r=a?toSource(a):void 0;if(r)switch(r){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return t});var isArray=Array.isArray,isBuffer=nativeIsBuffer||stubFalse;module.exports=cloneDeep;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],15:[function(require,module,exports){
(function (global){
function arrayPush(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function baseFlatten(e,t,r,n,o){var a=-1,l=e.length;for(r||(r=isFlattenable),o||(o=[]);++a<l;){var b=e[a];t>0&&r(b)?t>1?baseFlatten(b,t-1,r,n,o):arrayPush(o,b):n||(o[o.length]=b)}return o}function isFlattenable(e){return isArray(e)||isArguments(e)||!!(spreadableSymbol&&e&&e[spreadableSymbol])}function flatten(e){var t=e?e.length:0;return t?baseFlatten(e,1):[]}function isArguments(e){return isArrayLikeObject(e)&&hasOwnProperty.call(e,"callee")&&(!propertyIsEnumerable.call(e,"callee")||objectToString.call(e)==argsTag)}function isArrayLike(e){return null!=e&&isLength(e.length)&&!isFunction(e)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function isFunction(e){var t=isObject(e)?objectToString.call(e):"";return t==funcTag||t==genTag}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isObjectLike(e){return!!e&&"object"==typeof e}var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,Symbol=root.Symbol,propertyIsEnumerable=objectProto.propertyIsEnumerable,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0,isArray=Array.isArray;module.exports=flatten;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],16:[function(require,module,exports){
function baseRange(e,t,n,r){for(var i=-1,o=nativeMax(nativeCeil((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}function createRange(e){return function(t,n,r){return r&&"number"!=typeof r&&isIterateeCall(t,n,r)&&(n=r=void 0),t=toFinite(t),void 0===n?(n=t,t=0):n=toFinite(n),r=void 0===r?t<n?1:-1:toFinite(r),baseRange(t,n,r,e)}}function isIndex(e,t){return t=null==t?MAX_SAFE_INTEGER:t,!!t&&("number"==typeof e||reIsUint.test(e))&&e>-1&&e%1==0&&e<t}function isIterateeCall(e,t,n){if(!isObject(n))return!1;var r=typeof t;return!!("number"==r?isArrayLike(n)&&isIndex(t,n.length):"string"==r&&t in n)&&eq(n[t],e)}function eq(e,t){return e===t||e!==e&&t!==t}function isArrayLike(e){return null!=e&&isLength(e.length)&&!isFunction(e)}function isFunction(e){var t=isObject(e)?objectToString.call(e):"";return t==funcTag||t==genTag}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isObjectLike(e){return!!e&&"object"==typeof e}function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&objectToString.call(e)==symbolTag}function toFinite(e){if(!e)return 0===e?e:0;if(e=toNumber(e),e===INFINITY||e===-INFINITY){var t=e<0?-1:1;return t*MAX_INTEGER}return e===e?e:0}function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return NAN;if(isObject(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(reTrim,"");var n=reIsBinary.test(e);return n||reIsOctal.test(e)?freeParseInt(e.slice(2),n?2:8):reIsBadHex.test(e)?NAN:+e}var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e308,NAN=NaN,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,freeParseInt=parseInt,objectProto=Object.prototype,objectToString=objectProto.toString,nativeCeil=Math.ceil,nativeMax=Math.max,range=createRange();module.exports=range;
},{}],17:[function(require,module,exports){
(function (global){
function arrayMap(r,e){for(var t=-1,o=r?r.length:0,a=Array(o);++t<o;)a[t]=e(r[t],t,r);return a}function asciiToArray(r){return r.split("")}function baseTimes(r,e){for(var t=-1,o=Array(r);++t<r;)o[t]=e(t);return o}function baseValues(r,e){return arrayMap(e,function(e){return r[e]})}function getValue(r,e){return null==r?void 0:r[e]}function hasUnicode(r){return reHasUnicode.test(r)}function isHostObject(r){var e=!1;if(null!=r&&"function"!=typeof r.toString)try{e=!!(r+"")}catch(r){}return e}function iteratorToArray(r){for(var e,t=[];!(e=r.next()).done;)t.push(e.value);return t}function mapToArray(r){var e=-1,t=Array(r.size);return r.forEach(function(r,o){t[++e]=[o,r]}),t}function overArg(r,e){return function(t){return r(e(t))}}function setToArray(r){var e=-1,t=Array(r.size);return r.forEach(function(r){t[++e]=r}),t}function stringToArray(r){return hasUnicode(r)?unicodeToArray(r):asciiToArray(r)}function unicodeToArray(r){return r.match(reUnicode)||[]}function arrayLikeKeys(r,e){var t=isArray(r)||isArguments(r)?baseTimes(r.length,String):[],o=t.length,a=!!o;for(var n in r)!e&&!hasOwnProperty.call(r,n)||a&&("length"==n||isIndex(n,o))||t.push(n);return t}function baseClamp(r,e,t){return r===r&&(void 0!==t&&(r=r<=t?r:t),void 0!==e&&(r=r>=e?r:e)),r}function baseGetTag(r){return objectToString.call(r)}function baseIsNative(r){if(!isObject(r)||isMasked(r))return!1;var e=isFunction(r)||isHostObject(r)?reIsNative:reIsHostCtor;return e.test(toSource(r))}function baseKeys(r){if(!isPrototype(r))return nativeKeys(r);var e=[];for(var t in Object(r))hasOwnProperty.call(r,t)&&"constructor"!=t&&e.push(t);return e}function baseRandom(r,e){return r+nativeFloor(nativeRandom()*(e-r+1))}function copyArray(r,e){var t=-1,o=r.length;for(e||(e=Array(o));++t<o;)e[t]=r[t];return e}function getNative(r,e){var t=getValue(r,e);return baseIsNative(t)?t:void 0}function isIndex(r,e){return e=null==e?MAX_SAFE_INTEGER:e,!!e&&("number"==typeof r||reIsUint.test(r))&&r>-1&&r%1==0&&r<e}function isIterateeCall(r,e,t){if(!isObject(t))return!1;var o=typeof e;return!!("number"==o?isArrayLike(t)&&isIndex(e,t.length):"string"==o&&e in t)&&eq(t[e],r)}function isMasked(r){return!!maskSrcKey&&maskSrcKey in r}function isPrototype(r){var e=r&&r.constructor,t="function"==typeof e&&e.prototype||objectProto;return r===t}function toSource(r){if(null!=r){try{return funcToString.call(r)}catch(r){}try{return r+""}catch(r){}}return""}function sampleSize(r,e,t){var o=-1,a=toArray(r),n=a.length,i=n-1;for(e=(t?isIterateeCall(r,e,t):void 0===e)?1:baseClamp(toInteger(e),0,n);++o<e;){var s=baseRandom(o,i),u=a[s];a[s]=a[o],a[o]=u}return a.length=e,a}function shuffle(r){return sampleSize(r,MAX_ARRAY_LENGTH)}function eq(r,e){return r===e||r!==r&&e!==e}function isArguments(r){return isArrayLikeObject(r)&&hasOwnProperty.call(r,"callee")&&(!propertyIsEnumerable.call(r,"callee")||objectToString.call(r)==argsTag)}function isArrayLike(r){return null!=r&&isLength(r.length)&&!isFunction(r)}function isArrayLikeObject(r){return isObjectLike(r)&&isArrayLike(r)}function isFunction(r){var e=isObject(r)?objectToString.call(r):"";return e==funcTag||e==genTag}function isLength(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=MAX_SAFE_INTEGER}function isObject(r){var e=typeof r;return!!r&&("object"==e||"function"==e)}function isObjectLike(r){return!!r&&"object"==typeof r}function isString(r){return"string"==typeof r||!isArray(r)&&isObjectLike(r)&&objectToString.call(r)==stringTag}function isSymbol(r){return"symbol"==typeof r||isObjectLike(r)&&objectToString.call(r)==symbolTag}function toArray(r){if(!r)return[];if(isArrayLike(r))return isString(r)?stringToArray(r):copyArray(r);if(iteratorSymbol&&r[iteratorSymbol])return iteratorToArray(r[iteratorSymbol]());var e=getTag(r),t=e==mapTag?mapToArray:e==setTag?setToArray:values;return t(r)}function toFinite(r){if(!r)return 0===r?r:0;if(r=toNumber(r),r===INFINITY||r===-INFINITY){var e=r<0?-1:1;return e*MAX_INTEGER}return r===r?r:0}function toInteger(r){var e=toFinite(r),t=e%1;return e===e?t?e-t:e:0}function toNumber(r){if("number"==typeof r)return r;if(isSymbol(r))return NAN;if(isObject(r)){var e="function"==typeof r.valueOf?r.valueOf():r;r=isObject(e)?e+"":e}if("string"!=typeof r)return 0===r?r:+r;r=r.replace(reTrim,"");var t=reIsBinary.test(r);return t||reIsOctal.test(r)?freeParseInt(r.slice(2),t?2:8):reIsBadHex.test(r)?NAN:+r}function keys(r){return isArrayLike(r)?arrayLikeKeys(r):baseKeys(r)}function values(r){return r?baseValues(r,keys(r)):[]}var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e308,NAN=NaN,MAX_ARRAY_LENGTH=4294967295,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f\\ufe20-\\ufe23",rsComboSymbolsRange="\\u20d0-\\u20f0",rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboMarksRange+rsComboSymbolsRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g"),reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboMarksRange+rsComboSymbolsRange+rsVarRange+"]"),freeParseInt=parseInt,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var r=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol=root.Symbol,iteratorSymbol=Symbol?Symbol.iterator:void 0,propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeFloor=Math.floor,nativeKeys=overArg(Object.keys,Object),nativeRandom=Math.random,DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(r){var e=objectToString.call(r),t=e==objectTag?r.constructor:void 0,o=t?toSource(t):void 0;if(o)switch(o){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return e});var isArray=Array.isArray;module.exports=shuffle;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],18:[function(require,module,exports){
"use strict";function toElement(e){!range&&doc.createRange&&(range=doc.createRange(),range.selectNode(doc.body));var t;return range&&range.createContextualFragment?t=range.createContextualFragment(e):(t=doc.createElement("body"),t.innerHTML=e),t.childNodes[0]}function syncBooleanAttrProp(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n,""))}function noop(){}function compareNodeNames(e,t){var n=e.nodeName,o=t.nodeName;return n===o||!!(t.actualize&&n.charCodeAt(0)<91&&o.charCodeAt(0)>90)&&n===o.toUpperCase()}function createElementNS(e,t){return t&&t!==NS_XHTML?doc.createElementNS(t,e):doc.createElement(e)}function morphAttrs(e,t){if(t.assignAttributes)t.assignAttributes(e);else{var n,o,r,a,i,d,l=t.attributes;for(n=l.length-1;n>=0;--n)o=l[n],r=o.name,a=o.namespaceURI,i=o.value,a?(r=o.localName||r,d=e.getAttributeNS(a,r),d!==i&&e.setAttributeNS(a,r,i)):(d=e.getAttribute(r),d!==i&&e.setAttribute(r,i));for(l=e.attributes,n=l.length-1;n>=0;--n)o=l[n],o.specified!==!1&&(r=o.name,a=o.namespaceURI,a?(r=o.localName||r,hasAttributeNS(t,a,r)||e.removeAttributeNS(a,r)):hasAttributeNS(t,null,r)||e.removeAttribute(r))}}function moveChildren(e,t){for(var n=e.firstChild;n;){var o=n.nextSibling;t.appendChild(n),n=o}return t}function defaultGetNodeKey(e){return e.id}function morphdom(e,t,n){function o(e){c?c.push(e):c=[e]}function r(e,t){if(e.nodeType===ELEMENT_NODE)for(var n=e.firstChild;n;){var a=void 0;t&&(a=N(n))?o(a):(v(n),n.firstChild&&r(n,t)),n=n.nextSibling}}function a(e,t,n){p(e)!==!1&&(t&&t.removeChild(e),v(e),r(e,n))}function i(e){if(e.nodeType===ELEMENT_NODE)for(var t=e.firstChild;t;){var n=N(t);n&&(A[n]=t),i(t),t=t.nextSibling}}function d(e){f(e);for(var t=e.firstChild;t;){var n=t.nextSibling,o=N(t);if(o){var r=A[o];r&&compareNodeNames(t,r)&&(t.parentNode.replaceChild(r,t),l(r,t))}d(t),t=n}}function l(n,r,i){var u,c=N(r);if(c&&delete A[c],!t.isSameNode||!t.isSameNode(e)){if(!i){if(m(n,r)===!1)return;if(morphAttrs(n,r),E(n),h(n,r)===!1)return}if("TEXTAREA"!==n.nodeName){var f,p,v,b,T=r.firstChild,g=n.firstChild;e:for(;T;){for(v=T.nextSibling,f=N(T);g;){if(p=g.nextSibling,T.isSameNode&&T.isSameNode(g)){T=v,g=p;continue e}u=N(g);var S=g.nodeType,C=void 0;if(S===T.nodeType&&(S===ELEMENT_NODE?(f?f!==u&&((b=A[f])?g.nextSibling===b?C=!1:(n.insertBefore(b,g),u?o(u):a(g,n,!0),p=g.nextSibling,g=b):C=!1):u&&(C=!1),C=C!==!1&&compareNodeNames(g,T),C&&l(g,T)):S!==TEXT_NODE&&S!=COMMENT_NODE||(C=!0,g.nodeValue=T.nodeValue)),C){T=v,g=p;continue e}u?o(u):a(g,n,!0),g=p}if(f&&(b=A[f])&&compareNodeNames(b,T))n.appendChild(b),l(b,T);else{var y=s(T);y!==!1&&(y&&(T=y),T.actualize&&(T=T.actualize(n.ownerDocument||doc)),n.appendChild(T),d(T))}T=v,g=p}for(;g;)p=g.nextSibling,(u=N(g))?o(u):a(g,n,!0),g=p}var O=specialElHandlers[n.nodeName];O&&O(n,r)}}if(n||(n={}),"string"==typeof t)if("#document"===e.nodeName||"HTML"===e.nodeName){var u=t;t=doc.createElement("html"),t.innerHTML=u}else t=toElement(t);var c,N=n.getNodeKey||defaultGetNodeKey,s=n.onBeforeNodeAdded||noop,f=n.onNodeAdded||noop,m=n.onBeforeElUpdated||noop,E=n.onElUpdated||noop,p=n.onBeforeNodeDiscarded||noop,v=n.onNodeDiscarded||noop,h=n.onBeforeElChildrenUpdated||noop,b=n.childrenOnly===!0,A={};i(e);var T=e,g=T.nodeType,S=t.nodeType;if(!b)if(g===ELEMENT_NODE)S===ELEMENT_NODE?compareNodeNames(e,t)||(v(e),T=moveChildren(e,createElementNS(t.nodeName,t.namespaceURI))):T=t;else if(g===TEXT_NODE||g===COMMENT_NODE){if(S===g)return T.nodeValue=t.nodeValue,T;T=t}if(T===t)v(e);else if(l(T,t,b),c)for(var C=0,y=c.length;C<y;C++){var O=A[c[C]];O&&a(O,O.parentNode,!1)}return!b&&T!==e&&e.parentNode&&(T.actualize&&(T=T.actualize(e.ownerDocument||doc)),e.parentNode.replaceChild(T,e)),T}var range,doc="undefined"!=typeof document&&document,testEl=doc?doc.body||doc.createElement("div"):{},NS_XHTML="http://www.w3.org/1999/xhtml",ELEMENT_NODE=1,TEXT_NODE=3,COMMENT_NODE=8,hasAttributeNS;hasAttributeNS=testEl.hasAttributeNS?function(e,t,n){return e.hasAttributeNS(t,n)}:testEl.hasAttribute?function(e,t,n){return e.hasAttribute(n)}:function(e,t,n){return!!e.getAttributeNode(n)};var specialElHandlers={OPTION:function(e,t){syncBooleanAttrProp(e,t,"selected")},INPUT:function(e,t){syncBooleanAttrProp(e,t,"checked"),syncBooleanAttrProp(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),hasAttributeNS(t,null,"value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n),e.firstChild&&(e.firstChild.nodeValue=n)}};module.exports=morphdom;

},{}],19:[function(require,module,exports){
function nanoraf(n,o){o||(o=window.requestAnimationFrame);var r=!1,u=!1,a=null;return function(i,l){null!==a||u||(u=!0,o(function(){u=!1,a&&(r=!0,n(a,l),r=!1,a=null)})),a=i}}var window=require("global/window");module.exports=nanoraf;

},{"global/window":8}],20:[function(require,module,exports){
function turnon(t,e){watch[t][0]&&0===watch[t][2]&&(watch[t][0](e),watch[t][2]=1)}function turnoff(t,e){watch[t][1]&&1===watch[t][2]&&(watch[t][1](e),watch[t][2]=0)}function eachAttr(t,e,a){var r=t.target.getAttribute(KEY_ATTR);return sameOrigin(t.oldValue,r)?void(watch[r]=watch[t.oldValue]):(watch[t.oldValue]&&a(t.oldValue,t.target),void(watch[r]&&e(r,t.target)))}function sameOrigin(t,e){return!(!t||!e)&&watch[t][3]===watch[e][3]}function eachMutation(t,e){for(var a=Object.keys(watch),r=0;r<t.length;r++){if(t[r]&&t[r].getAttribute&&t[r].getAttribute(KEY_ATTR)){var n=t[r].getAttribute(KEY_ATTR);a.forEach(function(a){n===a&&e(a,t[r])})}t[r].childNodes.length>0&&eachMutation(t[r].childNodes,e)}}var document=require("global/document"),window=require("global/window"),watch=Object.create(null),KEY_ID="onloadid"+(new Date%9e6).toString(36),KEY_ATTR="data-"+KEY_ID,INDEX=0;if(window&&window.MutationObserver){var observer=new MutationObserver(function(t){if(!(Object.keys(watch).length<1))for(var e=0;e<t.length;e++)t[e].attributeName!==KEY_ATTR?(eachMutation(t[e].removedNodes,turnoff),eachMutation(t[e].addedNodes,turnon)):eachAttr(t[e],turnon,turnoff)});observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[KEY_ATTR]})}module.exports=function t(e,a,r,n){return a=a||function(){},r=r||function(){},e.setAttribute(KEY_ATTR,"o"+INDEX),watch["o"+INDEX]=[a,r,0,n||t.caller],INDEX+=1,e};
},{"global/document":7,"global/window":8}],21:[function(require,module,exports){
function pathname(e,r){return e=r?e.replace(stripElectron,""):e.replace(prefix,""),e.replace(suffix,"").replace(normalize,"/")}var electron="^[file:|/].*/index.html?(/{1})?",protocol="^(http(s)?(://))?(www.)?",domain="[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(/{1})?",qs="[?].*$",stripElectron=new RegExp(electron),prefix=new RegExp(protocol+domain),normalize=new RegExp("#"),suffix=new RegExp(qs);module.exports=pathname;

},{}],22:[function(require,module,exports){
function createLocation(e,t){function a(e){var t=document.createElement("a");return t.href=e,{href:t.href,pathname:t.pathname,search:t.search,hash:t.hash}}if(e){if("string"==typeof t){var r=a(t);return r}var n=xtend(e,t);return n}var o={pathname:document.location.pathname,search:document.location.search,hash:document.location.hash,href:document.location.href};return o}var document=require("global/document"),xtend=require("xtend");module.exports=createLocation;

},{"global/document":7,"xtend":30}],23:[function(require,module,exports){
function history(o){window.onpopstate=function(){o({pathname:document.location.pathname,search:document.location.search,href:document.location.href,hash:document.location.hash})}}var document=require("global/document"),window=require("global/window");module.exports=history;

},{"global/document":7,"global/window":8}],24:[function(require,module,exports){
function href(t,e){window.onclick=function(a){if(!(a.button&&0!==a.button||a.ctrlKey||a.metaKey||a.altKey||a.shiftKey)){var o=function t(a){if(a&&a!==e)return"a"!==a.localName?t(a.parentNode):void 0===a.href?t(a.parentNode):window.location.host!==a.host?t(a.parentNode):a}(a.target);if(o){var n=o.hasAttribute(noRoutingAttrName);n||(a.preventDefault(),t({pathname:o.pathname,search:o.search,href:o.href,hash:o.hash}))}}}}var window=require("global/window");module.exports=href;var noRoutingAttrName="data-no-routing";

},{"global/window":8}],25:[function(require,module,exports){
function sheetRouter(r,n){function e(n,e,t,i,c,f){return r.thunk===!1?a(pathname(n,isElectron),e,t,i,c,f):n===u?o(e,t,i,c,f):(u=pathname(n,isElectron),(o=a(u))(e,t,i,c,f))}n||(n=r,r={});var t=r.default||"/404",a=wayfarer(t),o=null,u=null;return e._router=a,function n(e,t){if("string"==typeof e[0])var o=e[0].replace(/^[#\/]/,"");else var u=e[0];var i="function"==typeof e[1]?e[1]:null,c=Array.isArray(e[1])?e[1]:Array.isArray(e[2])?e[2]:null;if(u&&e.forEach(function(r){n(r,t)}),i){var f=o?t.concat(o).join("/"):t.length?t.join("/"):o,l=r.thunk===!1||"match"===r.thunk?i:thunkify(i);a.on(f,l)}Array.isArray(c)&&n(c,t.concat(o))}(n,[]),e}function thunkify(r){return function(n){return function(e,t,a,o,u){return r(n,e,t,a,o,u)}}}var window=require("global/window"),pathname=require("./_pathname"),wayfarer=require("wayfarer"),isElectron=window.process&&window.process.type;module.exports=sheetRouter;
},{"./_pathname":21,"global/window":8,"wayfarer":27}],26:[function(require,module,exports){
function walkSheetRouter(e,r){return e=e._router,walk(e,r)}var walk=require("wayfarer/walk");module.exports=walkSheetRouter;

},{"wayfarer/walk":29}],27:[function(require,module,exports){
function Wayfarer(r){function e(r,e){if(r=r||"/",e&&e._wayfarer&&e._trie)n.mount(r,e._trie.trie);else{var t=n.create(r);t.cb=e}return a}function a(r){for(var e=new Array(arguments.length),a=1;a<e.length;a++)e[a]=arguments[a];var i=n.match(r);if(i&&i.cb)return e[0]=i.params,i.cb.apply(null,e);var f=n.match(t);if(f&&f.cb)return e[0]=f.params,f.cb.apply(null,e);throw new Error("route '"+r+"' did not match")}if(!(this instanceof Wayfarer))return new Wayfarer(r);var t=(r||"").replace(/^\//,""),n=trie();return a._trie=n,a.emit=a,a.on=e,a._wayfarer=!0,a}var trie=require("./trie");module.exports=Wayfarer;
},{"./trie":28}],28:[function(require,module,exports){
function Trie(){return this instanceof Trie?void(this.trie={nodes:{}}):new Trie}var mutate=require("xtend/mutable"),xtend=require("xtend");module.exports=Trie,Trie.prototype.create=function(e){var n=e.replace(/^\//,"").split("/");return function e(n,t,r){var o=r[n];if(void 0===o)return t;var i=null;return/^:/.test(o)?(t.nodes.$$?i=t.nodes.$$:(i={nodes:{}},t.nodes.$$=i),t.name=o.replace(/^:/,"")):t.nodes[o]?i=t.nodes[o]:(i={nodes:{}},t.nodes[o]=i),e(n+1,i,r)}(0,this.trie,n)},Trie.prototype.match=function(e){var n=e.replace(/^\//,"").split("/"),t={},r=function e(r,o){if(void 0!==o){var i=n[r];return void 0===i?o:o.nodes[i]?e(r+1,o.nodes[i]):o.name?(t[o.name]=i,e(r+1,o.nodes.$$)):e(r+1)}}(0,this.trie);if(r)return r=xtend(r),r.params=t,r},Trie.prototype.mount=function(e,n){var t=e.replace(/^\//,"").split("/"),r=null,o=null;if(1===t.length)o=t[0],r=this.create(o);else{var i=t.splice(0,t.length-1),s=i.join("/");o=t[0],r=this.create(s)}mutate(r.nodes,n.nodes),n.name&&(r.name=n.name),r.nodes[""]&&(Object.keys(r.nodes[""]).forEach(function(e){"nodes"!==e&&(r[e]=r.nodes[""][e])}),mutate(r.nodes,r.nodes[""].nodes),delete r.nodes[""].nodes)};
},{"xtend":30,"xtend/mutable":31}],29:[function(require,module,exports){
function walk(n,c){var e=n._trie;!function n(e,o){o.cb&&(o.cb=c(e,o.cb)),o.nodes&&!function(){var c=o.nodes;Object.keys(c).forEach(function(t){var a=c[t],r="$$"===t?e+"/:"+o.name:e+"/"+t;n(r,a)})}()}("",e.trie)}module.exports=walk;

},{}],30:[function(require,module,exports){
function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;

},{}],31:[function(require,module,exports){
function extend(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;

},{}],32:[function(require,module,exports){
var bel=require("bel"),morphdom=require("morphdom"),defaultEvents=require("./update-events.js");module.exports=bel,module.exports.update=function(e,t,u){function l(e,t){for(var l=u.events||defaultEvents,o=0;o<l.length;o++){var r=l[o];t[r]?e[r]=t[r]:e[r]&&(e[r]=void 0)}"INPUT"===e.nodeName&&"file"!==e.type||"SELECT"===e.nodeName?null===t.getAttribute("value")&&(t.value=e.value):"TEXTAREA"===e.nodeName&&null===t.getAttribute("value")&&(e.value=t.value)}return u||(u={}),u.events!==!1&&(u.onBeforeElUpdated||(u.onBeforeElUpdated=l)),morphdom(e,t,u)};

},{"./update-events.js":33,"bel":3,"morphdom":18}],33:[function(require,module,exports){
module.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"];

},{}],34:[function(require,module,exports){
var choo=require("choo"),css=0,gameView=require("./views/gameView");(require("insert-css")("html {\n  -ms-text-size-adjust: 100%;\n  -webkit-text-size-adjust: 100%;\n}\n\nbody {\n  margin: 0;\n  background-color: whitesmoke;\n  font-family: san-serif;\n  color: #303020;\n  line-height: 1.414;\n}\n\nmain {\n  display: block;\n}\n\nbutton,\n.tweet {\n  color: white;\n  font-size: 1.75em;\n  font-family: sans-serif;\n  display: inline-block;\n  background-color: lightseagreen;\n  padding: .5em 1em;\n  border-radius: .25rem;\n  border: none;\n  text-transform: none;\n  overflow: visible;\n  margin: 0;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  backface-visibility: hidden;\n  will-change: transform;\n  transition: transform .25s ease-out;\n}\n\n.tweet:focus,\n.tweet:hover,\n.start button:focus,\n.start button:hover {\n  transform: scale(1.05);\n}\n\n.tweet:active,\n.start button:active {\n  transform: scale(.9);\n}\n\n.tweet {\n  background-color: #00aced;\n  margin-bottom: 1rem;\n}\n\n.container,\n.center {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.container {\n  width: 100%;\n}\n\n.relative {\n  position: relative;\n}\n\n.absolute {\n  position: absolute;\n}\n\n.bg-green {\n  background-color: #7ecbcf;\n}\n\n.bg-gray {\n  background-color: #ddd;\n}\n\n.height3 {\n  height: 3em;\n}\n\n.board {\n  background: #345;\n  position: relative;\n}\n\n.board-score {\n  position: absolute;\n  margin: 0;\n  padding: .5em;\n  color: #eee;\n  text-shadow: 1px 1px rgba(0, 0, 0, .2);\n  will-change: transform;\n  font-family: helvetica neue, helvetica, sans-serif;\n  font-size: 2em;\n  line-height: 1;\n}\n\n.board-score.is-active {\n  -webkit-animation: countup .5s ease;\n          animation: countup .5s ease;\n}\n\n.block {\n  line-height: 1;\n  display: table-cell;\n  vertical-align: middle;\n  box-sizing: border-box;\n  text-align: center;\n  text-decoration: none;\n  border-radius: 2px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-transition: opacity .25s, visibility .25s;\n  transition: opacity .25s, visibility .25s;\n  -webkit-tap-highlight-color: inherit;\n}\n\n.is-shaking .block:not(.is-current) {\n  -webkit-animation: shake 200ms ease-in-out infinite;\n          animation: shake 200ms ease-in-out infinite;\n}\n\n.block-cover {\n  outline: 0;\n  -webkit-tap-highlight-color: inherit;\n}\n\n.block-cover.is-selected:focus {\n  font-weight: bold;\n}\n\n.block-cover.is-removed .block {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.block-cover.is-selected .block {\n  opacity: .7;\n}\n\n.block:hover { cursor: pointer; }\n.block:empty { height: 1em; }\n\n.start {\n  position: absolute;\n  color: white;\n  opacity: .9;\n  text-align: center;\n  width: 100%;\n  top: 50%;\n  transform: translateY(-50%)\n}\n\n@media screen and (min-width: 30rem) and (max-width:60rem) {\n  .container {\n    width: 70%;\n  }\n}\n\n@media screen and (min-width: 60rem) {\n  .container {\n    width: 50%;\n  }\n}\n\n.overlay {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n}\n\n.overlay-background {\n  background: whitesmoke;\n  position: absolute;\n  width: 100%;\n  top: 0;\n  bottom: 0;\n  opacity: .8;\n  -webkit-animation: fadein .75s ease;\n          animation: fadein .75s ease;\n}\n\n.overlay-inner {\n  position: relative;\n  webkit-animation: slidein .75s ease;\n          animation: slidein .75s ease;\n}\n\n.result {\n  padding: 4rem 1.5rem;\n}\n\n.result h2 {\n  text-align: center;\n}\n\n.result-details {\n  text-transform: lowercase;\n  list-style: none;\n  padding-left: 1em;\n}\n\n.result-details li {\n  line-height: 1.618;\n}\n\n.result-details .word {\n  margin-left: .25em;\n  display: inline-block;\n}\n\n.result-details .word::first-letter {\n  text-transform: uppercase;\n}\n\n.result footer {\n  padding: .5rem;\n  text-align: center;\n}\n\n.skill {\n  padding: 0 .5em;\n  left: 0;\n}\n\n.volume {\n  padding: .5em;\n  left: 3em;\n}\n\n.volume svg {\n   width: 30px;\n   height: 30px;\n}\n\n.volume:hover,\n.skill:hover {\n  cursor: pointer;\n}\n\n@-webkit-keyframes shake {\n  20% {\n    -webkit-transform: rotate(5deg);\n            transform: rotate(5deg);\n  }\n\n  40% {\n    -webkit-transform: rotate(1deg);\n            transform: rotate(1deg);\n  }\n\n  60% {\n    -webkit-transform: rotate(-5deg);\n            transform: rotate(-5deg);\n  }\n\n  80% {\n    -webkit-transform: rotate(-1deg);\n            transform: rotate(-1deg);\n  }\n\n  0%, 100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0)\n  }\n}\n@keyframes shake {\n  20% {\n    -webkit-transform: rotate(5deg);\n            transform: rotate(5deg);\n  }\n\n  40% {\n    -webkit-transform: rotate(1deg);\n            transform: rotate(1deg);\n  }\n\n  60% {\n    -webkit-transform: rotate(-5deg);\n            transform: rotate(-5deg);\n  }\n\n  80% {\n    -webkit-transform: rotate(-1deg);\n            transform: rotate(-1deg);\n  }\n\n  0%, 100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0)\n  }\n}\n\n@-webkit-keyframes fadein {\n  0% { opacity: .1; }\n  100% { opacity: .8; }\n}\n\n@keyframes fadein {\n  0% { opacity: .1; }\n  100% { opacity: .8; }\n}\n\n@-webkit-keyframes slidein {\n  0% { -webkit-transform: translateY(-100%); transform: translateY(-100%); }\n  10% { -webkit-transform: translateY(-100%); transform: translateY(-100%); }\n  100% { -webkit-transform: translateY(0); transform: translateY(0); }\n}\n\n@keyframes slidein {\n  0% { -webkit-transform: translateY(-100%); transform: translateY(-100%); }\n  10% { -webkit-transform: translateY(-100%); transform: translateY(-100%); }\n  100% { -webkit-transform: translateY(0); transform: translateY(0); }\n}\n\n@-webkit-keyframes countup {\n  0% { -webkit-transform: scale(1); transform: scale(1); }\n  50%  { -webkit-transform: scale(2); transform: scale(2); }\n  100% { -webkit-transform: scale(1); transform: scale(1); }\n}\n\n@keyframes countup {\n  0% { -webkit-transform: scale(1); transform: scale(1); }\n  50%  { -webkit-transform: scale(2); transform: scale(2); }\n  100% { -webkit-transform: scale(1); transform: scale(1); }\n}")||!0)&&"_68d0ba52";var app=choo(),log;app.model(require("./models/game")),app.model(require("./models/result")),app.router({default:"/"},[["/",gameView],["/you-have-a-pen",gameView]]);var tree=app.start();document.body.appendChild(tree);
},{"./models/game":52,"./models/result":53,"./views/gameView":54,"choo":6,"insert-css":11}],35:[function(require,module,exports){
function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _templateObject=_taggedTemplateLiteral(['<span class="block bg-',"",'" style="','">',"</span>"],['<span class="block bg-',"",'" style="','">',"</span>"]),html=require("choo/html"),block=function(e,t,r){if(!e.color||!e.charactor)return"";var a="width:"+t+"px;height:"+t+"px",c=e.current?" is-current":"";return html(_templateObject,e.color,c,a,e.charactor)};module.exports=block;

},{"choo/html":5}],36:[function(require,module,exports){
function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _templateObject=_taggedTemplateLiteral(['\n    <a tabindex="-1" role="button" class="absolute block-cover','" style="bottom:0;left:0;','" onclick='," onkeydown=",">","</a>\n  "],['\n    <a tabindex="-1" role="button" class="absolute block-cover','" style="bottom:0;left:0;','" onclick='," onkeydown=",">","</a>\n  "]),html=require("choo/html"),block=require("./block");module.exports=function(e,t,o,l,n){var c=e.current?function(){}:function(t){"undefined"!=typeof t.keyCode&&13!==t.keyCode||(t.preventDefault(),n("game:replaceThis",e))},r=l?" is-selected":"";return html(_templateObject,r,o,c,c,block(e,t))};

},{"./block":35,"choo/html":5}],37:[function(require,module,exports){
function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _templateObject=_taggedTemplateLiteral(['\n    <div class="board center','"\n      style="width:',"px;height:",'px">\n      <div class="board-score','" style="top:0;right:0">',"</div>\n      ","\n      ","\n      ","\n    </div>\n  "],['\n    <div class="board center','"\n      style="width:',"px;height:",'px">\n      <div class="board-score','" style="top:0;right:0">',"</div>\n      ","\n      ","\n      ","\n    </div>\n  "]),html=require("choo/html"),flatten=require("lodash.flatten"),blocknboard=require("../components/blocknboard"),start=require("../components/start");module.exports=function(e,t,r){var a=e.game.currentBlock.x*e.game.size,n=e.game.currentBlock.y*e.game.size,s="transform:translate("+a+"px, "+-n+"px)",l=e.game.ended||e.game.started?"":start(e,t,r),o=t.result&&e.result.totalscore!==t.result.totalscore?" is-active":"",c=e.game.waitingSkill?" is-shaking":"";return html(_templateObject,c,e.game.board.rows*e.game.size,e.game.board.cols*e.game.size,o,e.result.totalscore,flatten(e.game.orderedBlocks).filter(function(e){return!!e}).map(function(t){var a="transform:translate("+t.x*e.game.size+"px, "+-t.y*e.game.size+"px)",n=e.game.selectedBlock&&e.game.selectedBlock.x===t.x&&e.game.selectedBlock.y===t.y;return blocknboard(t,e.game.size,a,n,r)}),blocknboard(e.game.currentBlock,e.game.size,s,!1,r),l)};

},{"../components/blocknboard":36,"../components/start":41,"choo/html":5,"lodash.flatten":15}],38:[function(require,module,exports){
function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _templateObject=_taggedTemplateLiteral(['\n    <div class="overlay">\n      <div class="overlay-background"></div>\n      <div class="overlay-inner">\n        <section class="result">\n          <header>\n            <div>You have:</div>\n            <ul class="result-details">\n            ',"\n            </ul>\n            <h2>",'</h2>\n          </header>\n          <footer>\n            <a href="http://twitter.com/share?url=',"&text=",'&hashtags=youhaveapen" class="tweet" target="_blank">Tweet</a>\n            <button onclick=',">NEW GAME!</button>\n          </footer>\n        </section>\n      </div>\n    </div>\n  "],['\n    <div class="overlay">\n      <div class="overlay-background"></div>\n      <div class="overlay-inner">\n        <section class="result">\n          <header>\n            <div>You have:</div>\n            <ul class="result-details">\n            ',"\n            </ul>\n            <h2>",'</h2>\n          </header>\n          <footer>\n            <a href="http://twitter.com/share?url=',"&text=",'&hashtags=youhaveapen" class="tweet" target="_blank">Tweet</a>\n            <button onclick=',">NEW GAME!</button>\n          </footer>\n        </section>\n      </div>\n    </div>\n  "]),_templateObject2=_taggedTemplateLiteral(["<li>",'<div class="word">',"s</div></li>"],["<li>",'<div class="word">',"s</div></li>"]),html=require("choo/html"),thisUrl=require("../lib/config").thisUrl,scores=require("../lib/config").scores;module.exports=function(e,t,r){var a="Total Score: "+e.result.totalscore,n=Object.keys(e.result.details).reverse().map(function(t){return e.result.details[t]+" "+t+"S"}).join(", "),l="I have: "+n+"!%0a"+a+"!!%0a";return html(_templateObject,Object.keys(e.result.details).reverse().map(function(t){return html(_templateObject2,e.result.details[t]/scores[t],t)}),a,thisUrl,l,function(e){return r("game:start")})};

},{"../lib/config":43,"choo/html":5}],39:[function(require,module,exports){
function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _templateObject=_taggedTemplateLiteral(['\n  <div class="absolute" style="padding: .5em; right: 0;">',"</div>\n"],['\n  <div class="absolute" style="padding: .5em; right: 0;">',"</div>\n"]),html=require("choo/html"),block=require("./block"),nextBlock=function(e,t){return html(_templateObject,block(e,t))};module.exports=nextBlock;

},{"./block":35,"choo/html":5}],40:[function(require,module,exports){
function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _templateObject=_taggedTemplateLiteral(['\n    <div class="absolute skill" onclick=','>\n      <svg width="32" height="42" viewBox="63.75 33 33 32">\n        <path fill="none" stroke="','" stroke-width="2" d="M82.438 59.825a.44.44 0 0 1-.44.44H68.632a.44.44 0 0 1-.441-.44V46.462a.44.44 0 0 1 .441-.44h13.366a.44.44 0 0 1 .44.44v13.363z"/>\n        <path fill="','" stroke="','" stroke-width="2" d="M91.265 52.521a.44.44 0 0 1-.441.44H77.458a.44.44 0 0 1-.44-.44V39.155a.44.44 0 0 1 .44-.441h13.366a.44.44 0 0 1 .441.441v13.366z"/>\n        <text x="80" y="70" fill="','">',"</text>\n      </svg>\n    </div>\n  "],['\n    <div class="absolute skill" onclick=','>\n      <svg width="32" height="42" viewBox="63.75 33 33 32">\n        <path fill="none" stroke="','" stroke-width="2" d="M82.438 59.825a.44.44 0 0 1-.44.44H68.632a.44.44 0 0 1-.441-.44V46.462a.44.44 0 0 1 .441-.44h13.366a.44.44 0 0 1 .44.44v13.363z"/>\n        <path fill="','" stroke="','" stroke-width="2" d="M91.265 52.521a.44.44 0 0 1-.441.44H77.458a.44.44 0 0 1-.44-.44V39.155a.44.44 0 0 1 .44-.441h13.366a.44.44 0 0 1 .441.441v13.366z"/>\n        <text x="80" y="70" fill="','">',"</text>\n      </svg>\n    </div>\n  "]),html=require("choo/html"),skill=function(e,t,l){var a=0===e.game.skill?"#ccc":"#7ecbcf",i=0===e.game.skill?"#ccc":"#444";return html(_templateObject,function(e){return l("game:useSkill")},a,a,a,i,e.game.skill)};module.exports=skill;

},{"choo/html":5}],41:[function(require,module,exports){
function _taggedTemplateLiteral(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var _templateObject=_taggedTemplateLiteral(['\n  <div class="start"><button onclick=',">NEW GAME!</button></div>\n"],['\n  <div class="start"><button onclick=',">NEW GAME!</button></div>\n"]),html=require("choo/html");module.exports=function(t,e,n){return html(_templateObject,function(t){return n("game:start")})};
},{"choo/html":5}],42:[function(require,module,exports){
function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _templateObject=_taggedTemplateLiteral(['<svg><use xlink:href="#volume"></use></svg>'],['<svg><use xlink:href="#volume"></use></svg>']),_templateObject2=_taggedTemplateLiteral(['<svg><use xlink:href="#mute"></use></svg>'],['<svg><use xlink:href="#mute"></use></svg>']),_templateObject3=_taggedTemplateLiteral(['<div class="absolute volume" onclick=',">","</div>"],['<div class="absolute volume" onclick=',">","</div>"]),html=require("choo/html"),volume=function(e,t,l){var u=html(e.game.volume?_templateObject:_templateObject2);return html(_templateObject3,function(e){return l("game:toggleVolume")},u)};module.exports=volume;

},{"choo/html":5}],43:[function(require,module,exports){
exports.looptime=1500,exports.words=["PINEAPPLE","APPLE","PEN"],exports.scores={PINEAPPLE:500,APPLE:200,PEN:100},exports.chars=["P","E","N","P","I","N","E","A","P","P","L","E","A","P","P","L","E","P","E","N"],exports.colors=["green","gray"],exports.boardSize={rows:9,cols:12},exports.getBlockSize=function(o){return o>640?48:34},exports.thisUrl="https://tgfjt.github.io/you-have-a-pen";

},{}],44:[function(require,module,exports){
var words=require("../lib/config").words,colors=require("../lib/config").colors;module.exports=function(r){return r.map(function(r,n){var o=colors.map(function(n){return r.map(function(r){return r&&r.color===n?r.charactor:" "}).join("")});return words.map(function(r){return{str:r,index:o.reduce(function(n,o){return Math.max(n.indexOf(r),o.indexOf(r))})}})})};

},{"../lib/config":43}],45:[function(require,module,exports){
module.exports=function(n){return n.some(function(n){return n.some(function(n){return n.index>-1})})};

},{}],46:[function(require,module,exports){
module.exports=function(e,n){return e-1===n||e+1===n};

},{}],47:[function(require,module,exports){
function newBlock(r){return{charactor:chars[rand(chars.length-1)],color:colors[rand(colors.length-1)],x:Math.round(boardSize.rows/2),y:boardSize.cols-1,current:!!r&&!!r.current}}var config=require("../lib/config"),rand=require("../lib/randInt"),chars=config.chars,colors=config.colors,boardSize=config.boardSize;module.exports=newBlock;

},{"../lib/config":43,"../lib/randInt":49}],48:[function(require,module,exports){
var range=require("lodash.range");module.exports=function(r){return range(r.cols).map(function(n){return range(r.rows).map(function(r){return null})})};

},{"lodash.range":16}],49:[function(require,module,exports){
var randInt=function(n){return Math.floor(Math.random()*(n-0+1))+0};module.exports=randInt;
},{}],50:[function(require,module,exports){
module.exports=function(e,n){if("SpeechSynthesisUtterance"in window){var t=new window.SpeechSynthesisUtterance;t.text=e,t.lang="en-GB",t.volume=n,window.speechSynthesis.speak(t)}};

},{}],51:[function(require,module,exports){
function startBlocks(){var r=shuffle(range(boardSize.rows)),o=shuffle(range(boardSize.rows)),n=function(r,o){return r.x-o.x},e=[r.map(function(r,o){return{charactor:words[o],color:colors[0],x:r,y:0,current:!1}}).sort(n),o.map(function(r,o){return{charactor:words[o],color:colors[0],x:r,y:1,current:!1}}).sort(n)];return e[1][randInt(boardSize.rows)]=null,e}var shuffle=require("lodash.shuffle"),range=require("lodash.range"),config=require("../lib/config"),randInt=require("../lib/randInt"),words=config.words.join("").split(""),colors=config.colors,boardSize=config.boardSize;module.exports=startBlocks;

},{"../lib/config":43,"../lib/randInt":49,"lodash.range":16,"lodash.shuffle":17}],52:[function(require,module,exports){
var key=require("keymaster"),xtend=require("xtend"),flatten=require("lodash.flatten"),cloneDeep=require("lodash.cloneDeep"),assign=require("lodash.assign"),config=require("../lib/config"),getIndexOfLines=require("../lib/indexOfLines"),isGotWord=require("../lib/isGotWord"),newBlock=require("../lib/newBlock"),startedRandBlocks=require("../lib/startedRandBlocks"),orderedMatrix=require("../lib/orderedMatrix"),isNeighbor=require("../lib/isNeighbor"),sayIt=require("../lib/sayIt"),boardSize=config.boardSize;module.exports={namespace:"game",state:{timer:null,started:!1,ended:!1,pause:!1,selectSound:new window.Audio("sound.mp3"),bgm:new window.Audio("bgm.mp3"),volume:!0,looptime:config.looptime,size:config.getBlockSize(window.innerWidth),board:boardSize,nextBlock:{charactor:null,color:null},currentBlock:{charactor:null,color:null},orderedBlocks:orderedMatrix(boardSize),selectedBlock:null,skill:0,waitingSkill:!1},reducers:{newGame:function(e,o){return{timer:null,started:!0,ended:!1,nextBlock:newBlock(),currentBlock:newBlock({current:!0}),orderedBlocks:o}},setLooptime:function(e,o){return{looptime:o}},makeCurrentEmpty:function(){return{currentBlock:{charactor:null,color:null}}},updateNext:function(e,o){return{nextBlock:o,currentBlock:xtend(e.nextBlock,{current:!0})}},updateCurrent:function(e,o){return{currentBlock:o}},setPause:function(e,o){return{pause:o}},updateBlocks:function(e,o){return{orderedBlocks:o}},selectBlock:function(e,o){return{selectedBlock:o}},stopTimer:function(e,o){return{timer:null}},updateSkillCount:function(e,o){return{skill:o}},setWaitingSkill:function(e,o){return{waitingSkill:o}},setVolumeState:function(e,o){return{volume:o}},end:function(e,o){return{started:!1,ended:!0}}},effects:{start:function(e,o,t,n){var r=assign(orderedMatrix(boardSize),startedRandBlocks());t("game:stopTimer",null,n),t("result:reset",null,n),t("game:newGame",r,n),setTimeout(function(){var e=getIndexOfLines(r);isGotWord(e)&&t("game:removeBlocks",e,n)},e.looptime),t("game:mainLoop",n),t("game:updateSkillCount",3,n),t("game:setVolume",null,n),e.bgm.loop=!0,e.volume&&e.bgm.play()},stop:function(e,o,t,n){clearTimeout(e.timer),t("game:stopTimer",n)},pause:function(e,o,t,n){e.pause?(t("game:setPause",!1,n),t("game:mainLoop",n)):(t("game:stop",null,n),t("game:setPause",!0,n))},setVolume:function(e,o,t,n){e.bgm.volume=e.volume?.5:0,e.selectSound.volume=e.volume?.2:0},toggleVolume:function(e,o,t,n){t("game:setVolumeState",!e.volume,n),e.volume?e.bgm.pause():e.bgm.play()},speedup:function(e,o,t,n){o>1e4?t("game:setLooptime",200,n):o>7e3?t("game:setLooptime",300,n):o>5e3?t("game:setLooptime",500,n):o>3e3?t("game:setLooptime",800,n):o>2e3?t("game:setLooptime",900,n):o>1e3?t("game:setLooptime",1e3,n):o>500&&t("game:setLooptime",1200,n)},removeBlocks:function(e,o,t,n){var r=cloneDeep(e.orderedBlocks),l=[],c=null,u="";o.forEach(function(e,o){for(var i=function(i){if(e[i].index>-1&&(c=o,u=e[i].str,Array.prototype.forEach.call(e[i].str,function(c,u){r[o][e[i].index+u].current&&t("game:makeCurrentEmpty",n),l.push(e[i].index+u),r[o][e[i].index+u]=null}),"PINEAPPLE"===u))return"break"},a=0;a<e.length;a++){var s=i(a);if("break"===s)break}}),sayIt(u,e.volume),setTimeout(function(){for(var o=function(e){l.forEach(function(o){if(r[e][o]){var t=xtend(r[e][o],{y:r[e][o].y-1});r[e][o]=null,r[e-1][o]=t}})},u=c+1;u<r.length;u++)o(u);t("game:updateBlocks",r,n);var i=getIndexOfLines(r);return isGotWord(i)?void t("game:removeBlocks",i,n):void(null===e.timer&&setTimeout(function(){t("game:updateNext",newBlock(),n),t("game:mainLoop",n)},e.looptime/1.5))},e.looptime/1.5),t("result:remove",u,n),t("game:updateBlocks",r,n)},replaceThis:function(e,o,t,n){if(e.selectSound.currentTime=0,e.waitingSkill){var r=function(){var r=cloneDeep(e.orderedBlocks);r[o.y][o.x].color=config.colors.find(function(e){return e!==r[o.y][o.x].color}),t("game:selectBlock",null,n),t("game:setWaitingSkill",!1,n),t("game:pause",null,n),t("game:updateBlocks",r,n);var l=getIndexOfLines(r);return isGotWord(l)&&t("game:removeBlocks",l,n),{v:void 0}}();if("object"==typeof r)return r.v}if(null===e.selectedBlock)t("game:selectBlock",o,n);else if(e.selectedBlock.color===o.color)if(isNeighbor(o.x,e.selectedBlock.x)||isNeighbor(o.y,e.selectedBlock.y)){var l=cloneDeep(e.orderedBlocks);l[o.y][o.x].charactor=e.orderedBlocks[e.selectedBlock.y][e.selectedBlock.x].charactor,l[e.selectedBlock.y][e.selectedBlock.x].charactor=e.orderedBlocks[o.y][o.x].charactor,l[o.y][o.x].selected=!0,l[e.selectedBlock.y][e.selectedBlock.x].selected=!0,e.volueme&&e.selectSound.play(),t("game:updateBlocks",l,n);var c=getIndexOfLines(l);isGotWord(c)&&t("game:removeBlocks",c,n),t("game:selectBlock",null,n)}else t("game:selectBlock",null,n);else t("game:selectBlock",null,n)},mainLoop:function(e,o,t,n){e.timer=setTimeout(function(){t("game:loop",n)},e.looptime)},loop:function(e,o,t,n){e.currentBlock.y>0&&flatten(e.orderedBlocks).filter(function(e){return!!e}).every(function(o){return!(e.currentBlock.x===o.x&&e.currentBlock.y-1===o.y)})?(t("game:handleDown",n),t("game:mainLoop",n)):t("game:next",n)},next:function(e,o,t,n){t("game:stopTimer",null,n);var r=cloneDeep(e.orderedBlocks);r[e.currentBlock.y][e.currentBlock.x]=e.currentBlock,t("game:updateBlocks",r,n);var l=getIndexOfLines(r);return isGotWord(l)?void t("game:removeBlocks",l,n):(r[e.currentBlock.y][e.currentBlock.x]=xtend(e.currentBlock,{current:!1}),t("game:updateBlocks",r,n),void(flatten(e.orderedBlocks).filter(function(e){return!!e}).findIndex(function(e){return e.x===Math.round(boardSize.rows/2)&&e.y===boardSize.cols-1})>0?t("game:over",n):(t("game:updateNext",newBlock(),n),t("game:mainLoop",n))))},over:function(e,o,t,n){t("game:stopTimer",null,n),t("game:end",null,n)},handleDown:function(e,o,t,n){!e.pause&&e.currentBlock.y>0&&flatten(e.orderedBlocks).filter(function(e){return!!e}).every(function(o){return!(e.currentBlock.x===o.x&&e.currentBlock.y-1===o.y)})&&t("game:updateCurrent",xtend(e.currentBlock,{y:e.currentBlock.y-1}),n)},handleLeft:function(e,o,t,n){!e.pause&&e.currentBlock.x>0&&flatten(e.orderedBlocks).filter(function(e){return!!e}).every(function(o){return!(e.currentBlock.y===o.y&&e.currentBlock.x-1===o.x)})&&t("game:updateCurrent",xtend(e.currentBlock,{x:e.currentBlock.x-1}),n)},handleRight:function(e,o,t,n){!e.pause&&e.currentBlock.x<e.board.rows-1&&flatten(e.orderedBlocks).filter(function(e){return!!e}).every(function(o){return!(e.currentBlock.y===o.y&&e.currentBlock.x+1===o.x)})&&t("game:updateCurrent",xtend(e.currentBlock,{x:e.currentBlock.x+1}),n)},useSkill:function(e,o,t,n){!e.ended&&e.started&&e.skill>0&&(t("game:pause",null,n),t("game:setWaitingSkill",!0,n),t("game:updateSkillCount",e.skill-1,n))}},subscriptions:[function(e,o){var t=0,n=0,r=0,l=0,c=null,u=null,i=10,a=function(){Math.abs(t-r)>i&&(t>r?e("game:handleLeft",o):e("game:handleRight",o)),Math.abs(n-l)>50&&n<l&&e("game:handleDown",o)},s=function(){a(),c=setTimeout(s,100)};key("down",function(t){t.preventDefault(),e("game:handleDown",o)}),key("left",function(t){t.preventDefault(),e("game:handleLeft",o)}),key("right",function(t){t.preventDefault(),e("game:handleRight",o)}),key("esc",function(){e("game:pause",o)}),window.onerror=function(e,o,t,n,r){throw console.log("予期せぬエラー"),new Error("UncaughtError:"+e)},window.Touch&&(window.addEventListener("touchstart",function(e){t=r=e.changedTouches[0].screenX,n=l=e.changedTouches[0].screenY,setTimeout(function(){a()},4),u=setTimeout(function(){s()},350)},!1),window.addEventListener("touchend",function(e){clearTimeout(c),clearTimeout(u)},!1),window.addEventListener("touchmove",function(e){e.preventDefault(),r=e.changedTouches[0].screenX,l=e.changedTouches[0].screenY},!1))}]};

},{"../lib/config":43,"../lib/indexOfLines":44,"../lib/isGotWord":45,"../lib/isNeighbor":46,"../lib/newBlock":47,"../lib/orderedMatrix":48,"../lib/sayIt":50,"../lib/startedRandBlocks":51,"keymaster":12,"lodash.assign":13,"lodash.cloneDeep":14,"lodash.flatten":15,"xtend":30}],53:[function(require,module,exports){
function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xtend=require("xtend"),scores=require("../lib/config").scores;module.exports={namespace:"result",state:{totalscore:0,details:{PINEAPPLE:0,APPLE:0,PEN:0}},reducers:{addScore:function(e,t){return{totalscore:t.total,details:xtend(e.details,t.details)}},reset:function(e,t){return{totalscore:0,details:{PINEAPPLE:0,APPLE:0,PEN:0}}}},effects:{remove:function(e,t,r,o){var s=e.totalscore+scores[t];r("result:addScore",{total:s,details:_defineProperty({},t,e.details[t]+scores[t])},o),s>=100&&r("game:speedup",s,o)}}};

},{"../lib/config":43,"xtend":30}],54:[function(require,module,exports){
function _taggedTemplateLiteral(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var _templateObject=_taggedTemplateLiteral(['\n    <main class="relative container">\n      <div class="relative height3">\n        ',"\n        ","\n        ","\n      </div>\n      ","\n      ","\n    </main>\n  "],['\n    <main class="relative container">\n      <div class="relative height3">\n        ',"\n        ","\n        ","\n      </div>\n      ","\n      ","\n    </main>\n  "]),html=require("choo/html"),board=require("../components/board"),next=require("../components/next"),skill=require("../components/skill"),volume=require("../components/volume"),end=require("../components/end");module.exports=function(e,n,t){var r=e.game.ended?end(e,n,t):"";return html(_templateObject,next(e.game.nextBlock,e.game.size),skill(e,n,t),volume(e,n,t),board(e,n,t),r)};
},{"../components/board":37,"../components/end":38,"../components/next":39,"../components/skill":40,"../components/volume":42,"choo/html":5}]},{},[34]);
